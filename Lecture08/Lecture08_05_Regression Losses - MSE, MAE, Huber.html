<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regression Losses Comparison</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: #ffffff;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            width: 960px;
            padding: 30px;
            background: #ffffff;
        }
        
        .title {
            font-size: 20px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .loss-card {
            background: #f8f9fa;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            height: 280px;
        }
        
        .loss-card.highlight {
            background: linear-gradient(135deg, #1E64C8 0%, #2874d8 100%);
            color: white;
        }
        
        .loss-card.highlight .loss-name {
            color: white;
        }
        
        .loss-card.highlight .characteristic {
            background: rgba(255, 255, 255, 0.15);
            color: white;
        }
        
        .loss-name {
            font-size: 18px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 8px;
            text-align: center;
        }
        
        .loss-type {
            font-size: 16px;
            color: #666;
            text-align: center;
            margin-bottom: 16px;
            font-style: italic;
        }
        
        .loss-card.highlight .loss-type {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .characteristics {
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex: 1;
        }
        
        .characteristic {
            background: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 16px;
            line-height: 1.4;
            color: #2c3e50;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .usage-guide {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: auto;
        }
        
        .usage-card {
            background: #e8f1fd;
            border-left: 4px solid #1E64C8;
            padding: 15px;
            border-radius: 4px;
        }
        
        .usage-title {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 6px;
        }
        
        .usage-text {
            font-size: 16px;
            color: #2c3e50;
            line-height: 1.4;
        }
        
        .arrow-down {
            text-align: center;
            color: #1E64C8;
            font-size: 24px;
            margin: 15px 0;
        }
        
        .examples-section {
            margin-top: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #1E64C8;
        }
        
        .examples-title {
            font-size: 19px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .data-table {
            width: 100%;
            margin-bottom: 20px;
            border-collapse: collapse;
        }
        
        .data-table th,
        .data-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
            font-size: 15px;
        }
        
        .data-table th {
            background: #1E64C8;
            color: white;
            font-weight: 600;
        }
        
        .data-table .outlier {
            background: #ffe6e6;
            font-weight: 600;
        }
        
        .calculations-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .calculation-card {
            background: white;
            padding: 15px;
            border-radius: 6px;
            border: 2px solid #1E64C8;
        }
        
        .calculation-title {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .calculation-steps {
            font-size: 14px;
            color: #2c3e50;
            line-height: 1.8;
        }
        
        .calculation-steps div {
            margin-bottom: 4px;
        }
        
        .final-result {
            margin-top: 10px;
            padding: 8px;
            background: #e8f1fd;
            border-radius: 4px;
            font-weight: 600;
            color: #1E64C8;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Regression Loss Functions Comparison</div>
        
        <div class="comparison-grid">
            <!-- MSE Card -->
            <div class="loss-card">
                <div class="loss-name">MSE</div>
                <div class="loss-type">Mean Squared Error (L2)</div>
                <div class="characteristics">
                    <div class="characteristic">
                        <strong>âœ“</strong> Strong penalty for large errors
                    </div>
                    <div class="characteristic">
                        <strong>âœ—</strong> Sensitive to outliers
                    </div>
                    <div class="characteristic">
                        Characteristics from squaring operation
                    </div>
                </div>
            </div>
            
            <!-- Huber Card (Highlighted) -->
            <div class="loss-card highlight">
                <div class="loss-name">Huber Loss</div>
                <div class="loss-type">Hybrid Approach</div>
                <div class="characteristics">
                    <div class="characteristic">
                        <strong>âœ“</strong> Combines MSE and MAE advantages
                    </div>
                    <div class="characteristic">
                        <strong>âœ“</strong> Small errors: Quadratic function
                    </div>
                    <div class="characteristic">
                        <strong>âœ“</strong> Large errors: Linear function
                    </div>
                    <div class="characteristic">
                        Adjustable with delta parameter
                    </div>
                </div>
            </div>
            
            <!-- MAE Card -->
            <div class="loss-card">
                <div class="loss-name">MAE</div>
                <div class="loss-type">Mean Absolute Error (L1)</div>
                <div class="characteristics">
                    <div class="characteristic">
                        <strong>âœ“</strong> Robust to outliers
                    </div>
                    <div class="characteristic">
                        Uniform penalty regardless of error size
                    </div>
                </div>
            </div>
        </div>
        
        <div class="arrow-down">â†“</div>
        
        <div class="usage-guide">
            <div class="usage-card">
                <div class="usage-title">Use MSE when</div>
                <div class="usage-text">Outliers are important</div>
            </div>
            
            <div class="usage-card">
                <div class="usage-title">Use Huber when</div>
                <div class="usage-text">Balanced approach is needed</div>
            </div>
            
            <div class="usage-card">
                <div class="usage-title">Use MAE when</div>
                <div class="usage-text">Robustness is required</div>
            </div>
        </div>
        
        <!-- Calculation Examples Section -->
        <div class="examples-section">
            <div class="examples-title">ðŸ“Š Calculation Examples with 5 Data Points</div>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Sample</th>
                        <th>Actual (y)</th>
                        <th>Predicted (Å·)</th>
                        <th>Error (y - Å·)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>100</td>
                        <td>98</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>150</td>
                        <td>153</td>
                        <td>-3</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>200</td>
                        <td>199</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>180</td>
                        <td>182</td>
                        <td>-2</td>
                    </tr>
                    <tr class="outlier">
                        <td>5</td>
                        <td>120</td>
                        <td>140</td>
                        <td>-20</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="calculations-grid">
                <!-- MSE Calculation -->
                <div class="calculation-card">
                    <div class="calculation-title">MSE Calculation</div>
                    <div class="calculation-steps">
                        <div><strong>Formula:</strong> MSE = (1/n)Î£(y - Å·)Â²</div>
                        <div style="margin-top: 8px;"><strong>Steps:</strong></div>
                        <div>â€¢ (2)Â² = 4</div>
                        <div>â€¢ (-3)Â² = 9</div>
                        <div>â€¢ (1)Â² = 1</div>
                        <div>â€¢ (-2)Â² = 4</div>
                        <div>â€¢ (-20)Â² = <strong>400</strong></div>
                        <div style="margin-top: 8px;">Sum = 418</div>
                        <div>MSE = 418 Ã· 5</div>
                    </div>
                    <div class="final-result">MSE = 83.6</div>
                </div>
                
                <!-- Huber Loss Calculation -->
                <div class="calculation-card">
                    <div class="calculation-title">Huber Loss (Î´=5)</div>
                    <div class="calculation-steps">
                        <div><strong>Formula:</strong></div>
                        <div style="font-size: 13px;">If |error| â‰¤ Î´: 0.5Ã—errorÂ²</div>
                        <div style="font-size: 13px;">If |error| > Î´: Î´Ã—(|error| - 0.5Î´)</div>
                        <div style="margin-top: 8px;"><strong>Steps:</strong></div>
                        <div>â€¢ |2| â‰¤ 5: 0.5Ã—4 = 2</div>
                        <div>â€¢ |3| â‰¤ 5: 0.5Ã—9 = 4.5</div>
                        <div>â€¢ |1| â‰¤ 5: 0.5Ã—1 = 0.5</div>
                        <div>â€¢ |2| â‰¤ 5: 0.5Ã—4 = 2</div>
                        <div>â€¢ |20| > 5: 5Ã—(20-2.5) = <strong>87.5</strong></div>
                        <div style="margin-top: 8px;">Sum = 96.5</div>
                        <div>Huber = 96.5 Ã· 5</div>
                    </div>
                    <div class="final-result">Huber = 19.3</div>
                </div>
                
                <!-- MAE Calculation -->
                <div class="calculation-card">
                    <div class="calculation-title">MAE Calculation</div>
                    <div class="calculation-steps">
                        <div><strong>Formula:</strong> MAE = (1/n)Î£|y - Å·|</div>
                        <div style="margin-top: 8px;"><strong>Steps:</strong></div>
                        <div>â€¢ |2| = 2</div>
                        <div>â€¢ |-3| = 3</div>
                        <div>â€¢ |1| = 1</div>
                        <div>â€¢ |-2| = 2</div>
                        <div>â€¢ |-20| = <strong>20</strong></div>
                        <div style="margin-top: 8px;">Sum = 28</div>
                        <div>MAE = 28 Ã· 5</div>
                    </div>
                    <div class="final-result">MAE = 5.6</div>
                </div>
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px;">
                <div style="font-weight: 600; color: #856404; margin-bottom: 5px;">ðŸ’¡ Key Insight:</div>
                <div style="color: #856404; font-size: 15px; line-height: 1.5;">
                    Notice sample #5 with error of -20 (outlier): 
                    <strong>MSE = 83.6</strong> (heavily penalized), 
                    <strong>Huber = 19.3</strong> (balanced penalty), 
                    <strong>MAE = 5.6</strong> (moderate penalty). 
                    Huber Loss provides a middle ground between MSE and MAE!
                </div>
            </div>
        </div>
    </div>
</body>
</html>