<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Training vs. Inference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            padding: 40px 20px;
        }
        
        .container {
            width: 960px;
            margin: 0 auto 40px;
            padding: 30px;
            background: white;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 4px;
        }
        
        .comparison-container {
            display: flex;
            gap: 16px;
            flex: 1;
        }
        
        .mode-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .mode-header {
            background: #1E64C8;
            color: white;
            padding: 14px 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .inference-section .mode-header {
            background: #16a34a;
        }
        
        .mode-icon {
            font-size: 28px;
            margin-bottom: 4px;
        }
        
        .mode-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 2px;
        }
        
        .mode-subtitle {
            font-size: 15px;
            opacity: 0.95;
        }
        
        .feature-card {
            background: #f0f7ff;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 12px 16px;
            display: flex;
            gap: 10px;
            align-items: start;
        }
        
        .inference-section .feature-card {
            background: #f0fdf4;
            border-color: #16a34a;
        }
        
        .feature-icon {
            font-size: 20px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .feature-text {
            font-size: 16px;
            color: #333;
            line-height: 1.4;
        }
        
        .highlight-blue {
            font-weight: 600;
            color: #1E64C8;
        }
        
        .highlight-green {
            font-weight: 600;
            color: #16a34a;
        }
        
        .process-visual {
            background: white;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 14px;
            text-align: center;
            margin-top: auto;
        }
        
        .inference-section .process-visual {
            border-color: #16a34a;
        }
        
        .visual-label {
            font-size: 14px;
            font-weight: 600;
            color: #666;
            margin-bottom: 8px;
        }
        
        .visual-content {
            font-size: 24px;
            font-weight: 700;
        }
        
        .training-section .visual-content {
            color: #1E64C8;
        }
        
        .inference-section .visual-content {
            color: #16a34a;
        }
        
        .key-differences {
            display: flex;
            gap: 12px;
        }
        
        .diff-card {
            flex: 1;
            background: white;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 12px 16px;
            text-align: center;
        }
        
        .diff-icon {
            font-size: 24px;
            margin-bottom: 6px;
        }
        
        .diff-title {
            font-size: 16px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 4px;
        }
        
        .diff-comparison {
            font-size: 15px;
            color: #333;
            line-height: 1.4;
        }
        
        .training-value {
            color: #1E64C8;
            font-weight: 600;
        }
        
        .inference-value {
            color: #16a34a;
            font-weight: 600;
        }
        
        /* Computational Examples Styles */
        .example-container {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }
        
        .example-section {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .example-header {
            padding: 16px 24px;
            color: white;
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .training-header {
            background: #1E64C8;
        }
        
        .inference-header {
            background: #16a34a;
        }
        
        .example-icon {
            font-size: 24px;
        }
        
        .example-content {
            padding: 24px;
            background: #fafafa;
        }
        
        .example-description {
            background: white;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 15px;
            line-height: 1.6;
        }
        
        .code-text {
            font-family: 'Courier New', monospace;
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 14px;
            color: #d63384;
        }
        
        .computation-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }
        
        .computation-title {
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .matrix-container {
            margin: 20px 0;
        }
        
        .matrix-label {
            font-size: 14px;
            font-weight: 600;
            color: #6b7280;
            margin-bottom: 10px;
        }
        
        .matrix {
            background: #f9fafb;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 16px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }
        
        .matrix-row {
            display: flex;
            align-items: center;
            padding: 6px 0;
            gap: 12px;
        }
        
        .token-label {
            min-width: 90px;
            font-weight: 600;
            color: #374151;
        }
        
        .vector {
            color: #1e40af;
            font-weight: 500;
        }
        
        .note {
            color: #6b7280;
            font-size: 12px;
            margin-left: 12px;
            font-style: italic;
        }
        
        .highlight-row {
            background: #fef3c7;
            margin: -6px -16px;
            padding: 6px 16px;
        }
        
        .arrow-down {
            text-align: center;
            font-size: 18px;
            color: #6b7280;
            margin: 16px 0;
            font-weight: 600;
        }
        
        .key-point {
            margin-top: 20px;
            padding: 14px 18px;
            border-radius: 8px;
            font-size: 15px;
            line-height: 1.6;
        }
        
        .training-point {
            background: #dbeafe;
            border-left: 4px solid #1E64C8;
            color: #1e40af;
        }
        
        .inference-point {
            background: #d1fae5;
            border-left: 4px solid #16a34a;
            color: #065f46;
        }
        
        .step-container {
            margin-bottom: 24px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .step-header {
            background: #f3f4f6;
            padding: 12px 16px;
            font-weight: 600;
            color: #374151;
            font-size: 15px;
        }
        
        .step-content {
            padding: 16px;
            background: white;
        }
        
        .input-output {
            display: flex;
            align-items: center;
            gap: 20px;
            justify-content: space-between;
        }
        
        .io-section {
            flex: 1;
        }
        
        .io-label {
            font-weight: 600;
            color: #6b7280;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .vector-display {
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #1e40af;
            background: #f9fafb;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
        }
        
        .vector-display div {
            padding: 4px 0;
        }
        
        .new-token {
            background: #fef3c7;
            margin: -4px -12px;
            padding: 4px 12px;
            font-weight: 600;
        }
        
        .arrow-right {
            font-size: 24px;
            color: #16a34a;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .generated-token {
            margin-top: 12px;
            padding: 10px;
            background: #d1fae5;
            border-radius: 6px;
            color: #065f46;
            font-size: 14px;
            text-align: center;
        }
        
        .summary-section {
            margin-top: 32px;
            background: white;
            padding: 24px;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
        }
        
        .summary-title {
            text-align: center;
            font-size: 20px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 20px;
        }
        
        .summary-grid {
            display: flex;
            align-items: center;
            gap: 20px;
            justify-content: center;
        }
        
        .summary-card {
            flex: 1;
            max-width: 280px;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .training-summary {
            background: #dbeafe;
            border: 2px solid #1E64C8;
        }
        
        .inference-summary {
            background: #d1fae5;
            border: 2px solid #16a34a;
        }
        
        .summary-header {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        
        .training-summary .summary-header {
            color: #1E64C8;
        }
        
        .inference-summary .summary-header {
            color: #16a34a;
        }
        
        .summary-stat {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #374151;
        }
        
        .summary-detail {
            font-size: 14px;
            color: #6b7280;
            margin: 6px 0;
        }
        
        .summary-vs {
            font-size: 28px;
            font-weight: 700;
            color: #9ca3af;
            flex-shrink: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Training vs. Inference</div>
        
        <div class="comparison-container">
            <div class="mode-section training-section">
                <div class="mode-header">
                    <div class="mode-icon">üéì</div>
                    <div class="mode-title">Training Mode</div>
                    <div class="mode-subtitle">Teacher Forcing</div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <div class="feature-text">
                        <span class="highlight-blue">Parallel processing</span> of all target tokens simultaneously
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <div class="feature-text">
                        <span class="highlight-blue">Masking</span> ensures causality (no future information leakage)
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üìö</div>
                    <div class="feature-text">
                        Ground truth tokens used as input for next positions
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üöÄ</div>
                    <div class="feature-text">
                        <span class="highlight-blue">Fast & efficient</span> - entire sequence at once
                    </div>
                </div>
                
                <div class="process-visual">
                    <div class="visual-label">Processing Mode</div>
                    <div class="visual-content">ALL ‚Üí ALL</div>
                </div>
            </div>
            
            <div class="mode-section inference-section">
                <div class="mode-header">
                    <div class="mode-icon">üéØ</div>
                    <div class="mode-title">Inference Mode</div>
                    <div class="mode-subtitle">Autoregressive Generation</div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üîÑ</div>
                    <div class="feature-text">
                        <span class="highlight-green">Token-by-token</span> autoregressive generation
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">‚û°Ô∏è</div>
                    <div class="feature-text">
                        Each <span class="highlight-green">generated token</span> becomes input for next step
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üé≤</div>
                    <div class="feature-text">
                        <span class="highlight-green">Beam search</span> or sampling for generation strategies
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üíæ</div>
                    <div class="feature-text">
                        <span class="highlight-green">KV-caching</span> improves inference efficiency
                    </div>
                </div>
                
                <div class="process-visual">
                    <div class="visual-label">Processing Mode</div>
                    <div class="visual-content">ONE ‚Üí ONE</div>
                </div>
            </div>
        </div>
        
        <div class="key-differences">
            <div class="diff-card">
                <div class="diff-icon">‚ö°</div>
                <div class="diff-title">Speed</div>
                <div class="diff-comparison">
                    Training: <span class="training-value">Parallelizable</span><br>
                    Inference: <span class="inference-value">Sequential</span>
                </div>
            </div>
            
            <div class="diff-card">
                <div class="diff-icon">üìä</div>
                <div class="diff-title">Processing</div>
                <div class="diff-comparison">
                    Training: <span class="training-value">All at once</span><br>
                    Inference: <span class="inference-value">Step by step</span>
                </div>
            </div>
            
            <div class="diff-card">
                <div class="diff-icon">üéØ</div>
                <div class="diff-title">Input Source</div>
                <div class="diff-comparison">
                    Training: <span class="training-value">Ground truth</span><br>
                    Inference: <span class="inference-value">Generated</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Computational Examples Section -->
    <div class="container" style="min-height: auto;">
        <div class="title" style="margin-bottom: 20px;">Computational Examples</div>
        
        <div style="text-align: center; margin-bottom: 24px;">
            <a href="https://poloclub.github.io/transformer-explainer/" target="_blank" 
               style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                      color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; 
                      font-weight: 600; font-size: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                      transition: transform 0.2s, box-shadow 0.2s;"
               onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.15)';"
               onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';">
                üî¨ Interactive Transformer Explainer - Try it yourself!
            </a>
        </div>
        
        <div class="example-container">
            <!-- Training Example -->
            <div class="example-section">
                <div class="example-header training-header">
                    <span class="example-icon">üéì</span>
                    <span class="example-title">Training Mode: Parallel Processing</span>
                </div>
                
                <div class="example-content">
                    <div class="example-description">
                        Input sequence: <span class="code-text">["I", "love", "deep", "learning", "and", "AI", "research", "!"]</span>
                        <br>Hidden dimension: <span class="code-text">d = 4</span>
                    </div>
                    
                    <div class="computation-box">
                        <div class="computation-title">Step 1: All tokens processed simultaneously</div>
                        <div class="matrix-container">
                            <div class="matrix-label">Input Embeddings (8√ó4)</div>
                            <div class="matrix">
                                <div class="matrix-row">
                                    <span class="token-label">I:</span>
                                    <span class="vector">[0.2, 0.5, -0.1, 0.3]</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">love:</span>
                                    <span class="vector">[0.8, -0.2, 0.4, 0.1]</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">deep:</span>
                                    <span class="vector">[-0.3, 0.6, 0.2, 0.5]</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">learning:</span>
                                    <span class="vector">[0.4, 0.1, -0.5, 0.7]</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">and:</span>
                                    <span class="vector">[0.1, -0.4, 0.3, -0.2]</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">AI:</span>
                                    <span class="vector">[0.9, 0.3, -0.1, 0.6]</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">research:</span>
                                    <span class="vector">[-0.2, 0.7, 0.4, -0.3]</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">!:</span>
                                    <span class="vector">[0.5, -0.1, 0.6, 0.2]</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-down">‚Üì Transformer Layer with Causal Masking</div>
                        
                        <div class="matrix-container">
                            <div class="matrix-label">Output Hidden States (8√ó4)</div>
                            <div class="matrix">
                                <div class="matrix-row highlight-row">
                                    <span class="token-label">h‚ÇÅ:</span>
                                    <span class="vector">[0.25, 0.48, -0.12, 0.35]</span>
                                    <span class="note">‚Üê attends to position 1 only</span>
                                </div>
                                <div class="matrix-row highlight-row">
                                    <span class="token-label">h‚ÇÇ:</span>
                                    <span class="vector">[0.52, 0.15, 0.18, 0.28]</span>
                                    <span class="note">‚Üê attends to positions 1-2</span>
                                </div>
                                <div class="matrix-row highlight-row">
                                    <span class="token-label">h‚ÇÉ:</span>
                                    <span class="vector">[0.18, 0.42, 0.08, 0.45]</span>
                                    <span class="note">‚Üê attends to positions 1-3</span>
                                </div>
                                <div class="matrix-row highlight-row">
                                    <span class="token-label">h‚ÇÑ:</span>
                                    <span class="vector">[0.38, 0.22, -0.15, 0.58]</span>
                                    <span class="note">‚Üê attends to positions 1-4</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">h‚ÇÖ:</span>
                                    <span class="vector">[0.22, -0.08, 0.25, 0.12]</span>
                                    <span class="note">‚Üê attends to positions 1-5</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">h‚ÇÜ:</span>
                                    <span class="vector">[0.68, 0.28, 0.05, 0.52]</span>
                                    <span class="note">‚Üê attends to positions 1-6</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">h‚Çá:</span>
                                    <span class="vector">[0.15, 0.55, 0.32, -0.08]</span>
                                    <span class="note">‚Üê attends to positions 1-7</span>
                                </div>
                                <div class="matrix-row">
                                    <span class="token-label">h‚Çà:</span>
                                    <span class="vector">[0.42, 0.18, 0.48, 0.25]</span>
                                    <span class="note">‚Üê attends to positions 1-8</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="key-point training-point">
                            ‚úì All 8 hidden states computed in <strong>ONE forward pass</strong> (parallel)<br>
                            ‚úì Causal masking prevents each position from attending to future positions
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Inference Example -->
            <div class="example-section" style="margin-top: 30px;">
                <div class="example-header inference-header">
                    <span class="example-icon">üéØ</span>
                    <span class="example-title">Inference Mode: Autoregressive Generation</span>
                </div>
                
                <div class="example-content">
                    <div class="example-description">
                        Starting prompt: <span class="code-text">["I", "love"]</span>
                        <br>Target: Generate next 3 tokens
                        <br>Hidden dimension: <span class="code-text">d = 4</span>
                    </div>
                    
                    <div class="computation-box">
                        <div class="step-container">
                            <div class="step-header">Step 1: Process ["I", "love"] ‚Üí Generate "deep"</div>
                            <div class="step-content">
                                <div class="input-output">
                                    <div class="io-section">
                                        <div class="io-label">Input Embeddings:</div>
                                        <div class="vector-display">
                                            <div>I: [0.2, 0.5, -0.1, 0.3]</div>
                                            <div>love: [0.8, -0.2, 0.4, 0.1]</div>
                                        </div>
                                    </div>
                                    <div class="arrow-right">‚Üí</div>
                                    <div class="io-section">
                                        <div class="io-label">Output Hidden State:</div>
                                        <div class="vector-display">
                                            <div>h‚ÇÇ: [0.52, 0.15, 0.18, 0.28]</div>
                                        </div>
                                        <div class="generated-token">Generated: <strong>"deep"</strong></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step-container">
                            <div class="step-header">Step 2: Process ["I", "love", "deep"] ‚Üí Generate "learning"</div>
                            <div class="step-content">
                                <div class="input-output">
                                    <div class="io-section">
                                        <div class="io-label">Input Embeddings:</div>
                                        <div class="vector-display">
                                            <div>I: [0.2, 0.5, -0.1, 0.3]</div>
                                            <div>love: [0.8, -0.2, 0.4, 0.1]</div>
                                            <div class="new-token">deep: [-0.3, 0.6, 0.2, 0.5]</div>
                                        </div>
                                    </div>
                                    <div class="arrow-right">‚Üí</div>
                                    <div class="io-section">
                                        <div class="io-label">Output Hidden State:</div>
                                        <div class="vector-display">
                                            <div>h‚ÇÉ: [0.18, 0.42, 0.08, 0.45]</div>
                                        </div>
                                        <div class="generated-token">Generated: <strong>"learning"</strong></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step-container">
                            <div class="step-header">Step 3: Process ["I", "love", "deep", "learning"] ‚Üí Generate "and"</div>
                            <div class="step-content">
                                <div class="input-output">
                                    <div class="io-section">
                                        <div class="io-label">Input Embeddings:</div>
                                        <div class="vector-display">
                                            <div>I: [0.2, 0.5, -0.1, 0.3]</div>
                                            <div>love: [0.8, -0.2, 0.4, 0.1]</div>
                                            <div>deep: [-0.3, 0.6, 0.2, 0.5]</div>
                                            <div class="new-token">learning: [0.4, 0.1, -0.5, 0.7]</div>
                                        </div>
                                    </div>
                                    <div class="arrow-right">‚Üí</div>
                                    <div class="io-section">
                                        <div class="io-label">Output Hidden State:</div>
                                        <div class="vector-display">
                                            <div>h‚ÇÑ: [0.38, 0.22, -0.15, 0.58]</div>
                                        </div>
                                        <div class="generated-token">Generated: <strong>"and"</strong></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="key-point inference-point">
                            ‚úì Each token requires a <strong>separate forward pass</strong> (sequential)<br>
                            ‚úì Previously generated tokens become input for next step<br>
                            ‚úì Context grows at each step: 2 tokens ‚Üí 3 tokens ‚Üí 4 tokens
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Summary Comparison -->
        <div class="summary-section">
            <div class="summary-title">üìä Computation Comparison</div>
            <div class="summary-grid">
                <div class="summary-card training-summary">
                    <div class="summary-header">Training</div>
                    <div class="summary-stat">1 forward pass</div>
                    <div class="summary-detail">8 tokens ‚Üí 8 hidden states</div>
                    <div class="summary-detail">Matrix operation (8√ó4)</div>
                    <div class="summary-detail">All positions in parallel</div>
                </div>
                <div class="summary-vs">VS</div>
                <div class="summary-card inference-summary">
                    <div class="summary-header">Inference</div>
                    <div class="summary-stat">3 forward passes</div>
                    <div class="summary-detail">2‚Üí3‚Üí4 tokens sequentially</div>
                    <div class="summary-detail">Growing context each step</div>
                    <div class="summary-detail">One token at a time</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>