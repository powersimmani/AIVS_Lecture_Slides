<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beam Search - Enhanced Content</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .slides-container {
            max-width: 960px;
            margin: 0 auto;
        }
        
        .slide {
            width: 960px;
            min-height: 540px;
            background: white;
            padding: 30px 45px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        .title {
            text-align: center;
            font-size: 26px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #1E64C8;
        }
        
        .subtitle {
            text-align: center;
            font-size: 22px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 20px;
        }
        
        .intro-box {
            background: linear-gradient(135deg, #1E64C8 0%, #2874D8 100%);
            color: white;
            padding: 18px 30px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 25px;
        }
        
        .intro-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .intro-subtitle {
            font-size: 16px;
            opacity: 0.95;
        }
        
        .concept-box {
            background: #F8FAFE;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 20px 25px;
            margin-bottom: 20px;
        }
        
        .concept-text {
            font-size: 16px;
            color: #2C3E50;
            line-height: 1.6;
            text-align: center;
        }
        
        .concept-highlight {
            color: #1E64C8;
            font-weight: 600;
        }
        
        .beam-comparison {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 22px;
        }
        
        .beam-card {
            background: white;
            border: 2.5px solid #1E64C8;
            border-radius: 8px;
            padding: 18px 16px;
            text-align: center;
            min-height: 130px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .beam-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .beam-width {
            font-size: 18px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        
        .beam-quality {
            font-size: 15px;
            color: #2C3E50;
            margin-bottom: 4px;
        }
        
        .beam-speed {
            font-size: 15px;
            color: #666;
        }
        
        .tradeoff-box {
            background: #E8F1FC;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 16px 25px;
            margin-bottom: 18px;
            text-align: center;
        }
        
        .tradeoff-title {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        
        .tradeoff-text {
            font-size: 16px;
            color: #2C3E50;
        }
        
        .applications-box {
            background: white;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 14px 20px;
        }
        
        .app-title {
            font-size: 16px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .app-list {
            display: flex;
            justify-content: center;
            gap: 30px;
            font-size: 16px;
            color: #2C3E50;
        }
        
        .app-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .app-bullet {
            color: #1E64C8;
            font-weight: 600;
        }
        
        /* New styles */
        .process-steps {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .step {
            background: white;
            border-left: 4px solid #1E64C8;
            padding: 15px 20px;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .step-number {
            display: inline-block;
            background: #1E64C8;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: 600;
            margin-right: 12px;
            font-size: 16px;
        }
        
        .step-title {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        
        .step-content {
            font-size: 15px;
            color: #2C3E50;
            line-height: 1.6;
            margin-left: 42px;
        }
        
        .example-box {
            background: #FFF9E6;
            border: 2px solid #F39C12;
            border-radius: 8px;
            padding: 18px 25px;
            margin-bottom: 20px;
        }
        
        .example-title {
            font-size: 17px;
            font-weight: 600;
            color: #E67E22;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .example-content {
            font-size: 15px;
            color: #2C3E50;
            line-height: 1.6;
        }
        
        .highlight-box {
            background: #E8F8F5;
            border: 2px solid #27AE60;
            border-radius: 8px;
            padding: 16px 25px;
            margin: 15px auto 20px auto;
            max-width: 90%;
        }
        
        .highlight-title {
            font-size: 17px;
            font-weight: 600;
            color: #27AE60;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .highlight-content {
            font-size: 15px;
            color: #2C3E50;
            line-height: 1.6;
        }
        
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .column-box {
            background: white;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 18px 20px;
        }
        
        .column-title {
            font-size: 16px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .column-content {
            font-size: 15px;
            color: #2C3E50;
            line-height: 1.6;
        }
        
        .bullet-list {
            list-style: none;
            padding-left: 0;
        }
        
        .bullet-list li {
            padding: 6px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .bullet-list li:before {
            content: "‚ñ∏";
            color: #1E64C8;
            font-weight: 600;
            position: absolute;
            left: 0;
        }
        
        .formula-box {
            background: #F8FAFE;
            border: 2px dashed #1E64C8;
            border-radius: 8px;
            padding: 15px 25px;
            margin: 15px auto;
            text-align: center;
            max-width: 90%;
        }
        
        .formula {
            font-size: 16px;
            color: #2C3E50;
            font-family: 'Courier New', monospace;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="slides-container">
        <!-- Slide 1: Basic Concepts -->
        <div class="slide">
            <div class="title">Beam Search</div>
            
            <div class="intro-box">
                <div class="intro-title">Decoding Algorithm for Sequence Generation</div>
                <div class="intro-subtitle">Maintains k best candidates (beam width)</div>
            </div>
            
            <div class="concept-box">
                <div class="concept-text">
                    Balances <span class="concept-highlight">quality</span> and <span class="concept-highlight">computational cost</span> by keeping multiple candidate sequences
                </div>
            </div>
            
            <div class="beam-comparison">
                <div class="beam-card">
                    <div class="beam-icon">‚ö°</div>
                    <div class="beam-width">k = 1</div>
                    <div class="beam-quality">Greedy Search</div>
                    <div class="beam-speed">Fastest, Lower Quality</div>
                </div>
                
                <div class="beam-card" style="border-color: #27AE60; border-width: 3px;">
                    <div class="beam-icon">‚öñÔ∏è</div>
                    <div class="beam-width" style="color: #27AE60;">k = 5-10</div>
                    <div class="beam-quality">Typical Beam</div>
                    <div class="beam-speed">Balanced Trade-off</div>
                </div>
                
                <div class="beam-card">
                    <div class="beam-icon">üéØ</div>
                    <div class="beam-width">k = Large</div>
                    <div class="beam-quality">Wide Beam</div>
                    <div class="beam-speed">Better Quality, Slower</div>
                </div>
            </div>
            
            <div class="tradeoff-box">
                <div class="tradeoff-title">üìä Trade-off</div>
                <div class="tradeoff-text">
                    Larger beam width ‚Üí Better quality but higher computation
                </div>
            </div>
            
            <div class="applications-box">
                <div class="app-title">üíº Applications</div>
                <div class="app-list">
                    <div class="app-item">
                        <span class="app-bullet">‚Ä¢</span>
                        <span>Machine Translation</span>
                    </div>
                    <div class="app-item">
                        <span class="app-bullet">‚Ä¢</span>
                        <span>Image Captioning</span>
                    </div>
                    <div class="app-item">
                        <span class="app-bullet">‚Ä¢</span>
                        <span>Text Generation</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 2: How It Works -->
        <div class="slide">
            <div class="title">How Beam Search Works</div>
            
            <div class="subtitle">üîÑ Algorithm Process</div>
            
            <div class="process-steps">
                <div class="step">
                    <div class="step-title">
                        <span class="step-number">1</span>
                        Initialization
                    </div>
                    <div class="step-content">
                        Select k most probable candidates from the start token. Each candidate maintains its own probability score.
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-title">
                        <span class="step-number">2</span>
                        Expansion
                    </div>
                    <div class="step-content">
                        Consider all possible next words for each candidate. This generates k candidates √ó vocabulary size possible sequences.
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-title">
                        <span class="step-number">3</span>
                        Scoring
                    </div>
                    <div class="step-content">
                        Calculate cumulative probability for each expanded sequence. Typically uses sum of log probabilities for numerical stability.
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-title">
                        <span class="step-number">4</span>
                        Selection
                    </div>
                    <div class="step-content">
                        Select only k candidates with highest cumulative scores from all expanded candidates to proceed to next step.
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-title">
                        <span class="step-number">5</span>
                        Iteration & Termination
                    </div>
                    <div class="step-content">
                        Repeat steps 2-4 until end token is generated or maximum length is reached. Finally select the sequence with highest score.
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Loss Calculation Example -->
        <div class="slide">
            <div class="title">Beam Search Loss Calculation Example</div>
            
            <div class="subtitle">üìä 3D Vector Input ‚Üí 1D Output</div>
            
            <div class="concept-box">
                <div class="concept-text">
                    <strong>Setup:</strong> Vocabulary size = 3 (words A, B, C), Beam width k = 2<br>
                    At each time step, the model outputs a probability distribution over next words
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">üî¢ Step 1: Initialization (t=0)</div>
                <div class="example-content">
                    <strong>Model Output (Probability Vector):</strong> [0.5, 0.3, 0.2] ‚Üí words [A, B, C]<br><br>
                    
                    <strong>Log Probabilities:</strong><br>
                    ‚Ä¢ log P(A) = log(0.5) = -0.693<br>
                    ‚Ä¢ log P(B) = log(0.3) = -1.204<br>
                    ‚Ä¢ log P(C) = log(0.2) = -1.609<br><br>
                    
                    <strong>Select k=2:</strong> A (-0.693), B (-1.204)<br>
                    <strong>Current Candidates:</strong> ["A"], ["B"]
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">üî¢ Step 2: First Expansion (t=1)</div>
                <div class="example-content">
                    <strong>Sequence "A" next word probabilities:</strong> [0.4, 0.4, 0.2] ‚Üí [A, B, C]<br>
                    ‚Ä¢ A‚ÜíA: -0.693 + log(0.4) = -0.693 + (-0.916) = <span style="color: #E74C3C; font-weight: 600;">-1.609</span><br>
                    ‚Ä¢ A‚ÜíB: -0.693 + log(0.4) = -0.693 + (-0.916) = <span style="color: #E74C3C; font-weight: 600;">-1.609</span><br>
                    ‚Ä¢ A‚ÜíC: -0.693 + log(0.2) = -0.693 + (-1.609) = -2.302<br><br>
                    
                    <strong>Sequence "B" next word probabilities:</strong> [0.6, 0.2, 0.2] ‚Üí [A, B, C]<br>
                    ‚Ä¢ B‚ÜíA: -1.204 + log(0.6) = -1.204 + (-0.511) = <span style="color: #27AE60; font-weight: 600;">-1.715</span><br>
                    ‚Ä¢ B‚ÜíB: -1.204 + log(0.2) = -1.204 + (-1.609) = -2.813<br>
                    ‚Ä¢ B‚ÜíC: -1.204 + log(0.2) = -1.204 + (-1.609) = -2.813<br><br>
                    
                    <strong>Select k=2 from 6 total candidates:</strong><br>
                    1st: "AA" (cumulative loss: <span style="color: #E74C3C; font-weight: 600;">-1.609</span>)<br>
                    2nd: "AB" (cumulative loss: <span style="color: #E74C3C; font-weight: 600;">-1.609</span>)
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">üî¢ Step 3: Second Expansion (t=2)</div>
                <div class="example-content">
                    <strong>Sequence "AA" next word probabilities:</strong> [0.3, 0.5, 0.2] ‚Üí [A, B, C]<br>
                    ‚Ä¢ AA‚ÜíA: -1.609 + log(0.3) = -1.609 + (-1.204) = -2.813<br>
                    ‚Ä¢ AA‚ÜíB: -1.609 + log(0.5) = -1.609 + (-0.693) = <span style="color: #3498DB; font-weight: 600;">-2.302</span><br>
                    ‚Ä¢ AA‚ÜíC: -1.609 + log(0.2) = -1.609 + (-1.609) = -3.218<br><br>
                    
                    <strong>Sequence "AB" next word probabilities:</strong> [0.2, 0.6, 0.2] ‚Üí [A, B, C]<br>
                    ‚Ä¢ AB‚ÜíA: -1.609 + log(0.2) = -1.609 + (-1.609) = -3.218<br>
                    ‚Ä¢ AB‚ÜíB: -1.609 + log(0.6) = -1.609 + (-0.511) = <span style="color: #27AE60; font-weight: 600;">-2.120</span> ‚ú®<br>
                    ‚Ä¢ AB‚ÜíC: -1.609 + log(0.2) = -1.609 + (-1.609) = -3.218<br><br>
                    
                    <strong>Final k=2 Selection:</strong><br>
                    üèÜ 1st: "ABB" (cumulative loss: <span style="color: #27AE60; font-weight: 600;">-2.120</span>) ‚Üê Final Choice!<br>
                    2nd: "AAB" (cumulative loss: <span style="color: #3498DB; font-weight: 600;">-2.302</span>)
                </div>
            </div>
            
            <div class="highlight-box">
                <div class="highlight-title">üéØ Key Points</div>
                <div class="highlight-content">
                    ‚Ä¢ <strong>Loss = Negative Log-Likelihood:</strong> Lower is better (higher probability = lower loss)<br>
                    ‚Ä¢ <strong>Cumulative Calculation:</strong> Add current log probability to previous cumulative value at each step<br>
                    ‚Ä¢ <strong>Beam Maintenance:</strong> Select only top k from all possible expansions at each step<br>
                    ‚Ä¢ <strong>Final Result:</strong> Sequence with lowest cumulative loss becomes the final output
                </div>
            </div>
        </div>

        <!-- Slide 4: Concrete Example -->
        <div class="slide">
            <div class="title">Beam Search Concrete Example</div>
            
            <div class="example-box">
                <div class="example-title">üìù Translation Example: "I love AI" ‚Üí Korean</div>
                <div class="example-content">
                    <strong>Step 1:</strong> Start - Set k=3<br>
                    Initial candidates: ["ÎÇòÎäî", "Ï†ÄÎäî", "ÎÇ¥Í∞Ä"] (Top 3 by probability)<br><br>
                    
                    <strong>Step 2:</strong> First Expansion<br>
                    ‚Ä¢ "ÎÇòÎäî" ‚Üí ["ÎÇòÎäî ÏÇ¨ÎûëÌï¥", "ÎÇòÎäî Ï¢ãÏïÑÌï¥", "ÎÇòÎäî Ï¶êÍ≤®"]<br>
                    ‚Ä¢ "Ï†ÄÎäî" ‚Üí ["Ï†ÄÎäî ÏÇ¨ÎûëÌï¥", "Ï†ÄÎäî Ï¢ãÏïÑÌï©ÎãàÎã§", "Ï†ÄÎäî Ï¶êÍπÅÎãàÎã§"]<br>
                    ‚Ä¢ "ÎÇ¥Í∞Ä" ‚Üí ["ÎÇ¥Í∞Ä ÏÇ¨ÎûëÌïòÎäî", "ÎÇ¥Í∞Ä Ï¢ãÏïÑÌïòÎäî", "ÎÇ¥Í∞Ä Ï¶êÍ∏∞Îäî"]<br>
                    Select top 3 from 9 candidates<br><br>
                    
                    <strong>Step 3:</strong> Second Expansion<br>
                    Selected 3: ["ÎÇòÎäî ÏÇ¨ÎûëÌï¥", "Ï†ÄÎäî Ï¢ãÏïÑÌï©ÎãàÎã§", "ÎÇòÎäî Ï¢ãÏïÑÌï¥"]<br>
                    Add next word to each ‚Üí Select top 3 again<br><br>
                    
                    <strong>Final:</strong> "ÎÇòÎäî AIÎ•º ÏÇ¨ÎûëÌï¥" (Highest cumulative probability)
                </div>
            </div>
            
            <div class="formula-box">
                <div class="formula">
                    Score(sequence) = log P(w‚ÇÅ) + log P(w‚ÇÇ|w‚ÇÅ) + log P(w‚ÇÉ|w‚ÇÅ,w‚ÇÇ) + ...
                </div>
            </div>
            
            <div class="highlight-box">
                <div class="highlight-title">üîë Key Point</div>
                <div class="highlight-content">
                    By maintaining only <strong>k candidates</strong> at each step, achieves a balance between exhaustive search (exponential) and greedy search.
                </div>
            </div>
        </div>

        <!-- Slide 5: Advantages & Improvements -->
        <div class="slide">
            <div class="title">Beam Search Advantages & Improvements</div>
            
            <div class="two-column">
                <div class="column-box">
                    <div class="column-title">‚úÖ Advantages</div>
                    <div class="column-content">
                        <ul class="bullet-list">
                            <li>Better quality results than Greedy</li>
                            <li>More efficient than exhaustive search</li>
                            <li>Parallelizable structure</li>
                            <li>Applicable to various tasks</li>
                            <li>Adjustable performance via beam width</li>
                        </ul>
                    </div>
                </div>
                
                <div class="column-box">
                    <div class="column-title">‚ö†Ô∏è Limitations</div>
                    <div class="column-content">
                        <ul class="bullet-list">
                            <li>No guarantee of optimal solution</li>
                            <li>Can be biased toward shorter sequences</li>
                            <li>Memory usage proportional to k</li>
                            <li>May generate repetitive phrases</li>
                            <li>Diversity can be limited</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="concept-box">
                <div class="concept-text">
                    <span class="concept-highlight">üîß Improvement Techniques</span>
                </div>
            </div>
            
            <div class="process-steps">
                <div class="step">
                    <div class="step-title">Length Normalization</div>
                    <div class="step-content">
                        Normalizes scores by sequence length to prevent bias toward shorter sequences. Divides score by length raised to a power.
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-title">Coverage Penalty</div>
                    <div class="step-content">
                        Penalizes already generated words to reduce repetition. Particularly effective in machine translation.
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-title">Diverse Beam Search</div>
                    <div class="step-content">
                        Divides beam into multiple groups, each exploring different candidates to increase diversity.
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Practical Application -->
        <div class="slide">
            <div class="title">Beam Search Practical Application Guide</div>
            
            <div class="highlight-box">
                <div class="highlight-title">‚öôÔ∏è Beam Width Selection Guide</div>
                <div class="highlight-content">
                    <strong>k = 1:</strong> Real-time chatbots, quick prototyping<br>
                    <strong>k = 3-5:</strong> General machine translation, balanced quality and speed<br>
                    <strong>k = 10-20:</strong> High-quality translation, image captioning<br>
                    <strong>k > 50:</strong> Research, benchmark testing (low practicality)
                </div>
            </div>
            
            <div class="two-column">
                <div class="column-box">
                    <div class="column-title">üéØ Task-specific Settings</div>
                    <div class="column-content">
                        <ul class="bullet-list">
                            <li><strong>Machine Translation:</strong> k=5-10, length norm</li>
                            <li><strong>Summarization:</strong> k=3-5, coverage penalty</li>
                            <li><strong>Image Captioning:</strong> k=3-7</li>
                            <li><strong>Dialogue Generation:</strong> k=1-3, diversity focus</li>
                            <li><strong>Code Generation:</strong> k=5-10</li>
                        </ul>
                    </div>
                </div>
                
                <div class="column-box">
                    <div class="column-title">üí° Performance Optimization Tips</div>
                    <div class="column-content">
                        <ul class="bullet-list">
                            <li>Parallelize with batch processing</li>
                            <li>Set early stopping conditions</li>
                            <li>Consider GPU memory efficiency</li>
                            <li>Eliminate redundant calculations with caching</li>
                            <li>Adjust beam width dynamically</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">üöÄ Practical Checklist</div>
                <div class="example-content">
                    <strong>1. Identify Requirements:</strong> Speed vs quality - which is more important?<br>
                    <strong>2. Initial Setup:</strong> Start with small k and gradually increase<br>
                    <strong>3. Evaluation:</strong> Measure performance with metrics like BLEU, ROUGE<br>
                    <strong>4. Tuning:</strong> Adjust length normalization, temperature<br>
                    <strong>5. Validation:</strong> Check result consistency across various inputs
                </div>
            </div>
            
            <div class="tradeoff-box">
                <div class="tradeoff-title">‚öñÔ∏è Core Trade-offs</div>
                <div class="tradeoff-text">
                    Finding the balance between Quality ‚Üî Speed ‚Üî Diversity ‚Üî Memory Usage is key!
                </div>
            </div>
        </div>
    </div>
</body>
</html>