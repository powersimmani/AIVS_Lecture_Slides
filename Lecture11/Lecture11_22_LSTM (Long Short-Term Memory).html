<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LSTM (Long Short-Term Memory)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            width: 960px;
            min-height: 540px;
            position: relative;
            background: white;
            padding: 25px 45px;
        }
        
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 25px;
        }
        
        .solution-box {
            background: linear-gradient(135deg, #27AE60 0%, #2ECC71 100%);
            color: white;
            padding: 16px 30px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 25px;
        }
        
        .solution-text {
            font-size: 17px;
            font-weight: 600;
        }
        
        .gates-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 22px;
        }
        
        .gate-card {
            background: white;
            border: 2.5px solid #1E64C8;
            border-radius: 8px;
            padding: 18px 16px;
            text-align: center;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .gate-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .gate-name {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        
        .gate-description {
            font-size: 15px;
            color: #2C3E50;
            line-height: 1.4;
        }
        
        .memory-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            margin-bottom: 20px;
        }
        
        .memory-card {
            background: #F8FAFE;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 16px 22px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .memory-icon {
            font-size: 32px;
            flex-shrink: 0;
        }
        
        .memory-content {
            flex-grow: 1;
        }
        
        .memory-title {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 4px;
        }
        
        .memory-text {
            font-size: 15px;
            color: #2C3E50;
        }
        
        .success-box {
            background: #E8F1FC;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 14px 25px;
            text-align: center;
        }
        
        .success-title {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 6px;
        }
        
        .success-text {
            font-size: 16px;
            color: #2C3E50;
        }
        
        .comparison-section {
            margin-top: 25px;
            padding-top: 25px;
            border-top: 3px solid #E8F1FC;
        }
        
        .comparison-title {
            text-align: center;
            font-size: 20px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 20px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .comparison-card {
            border: 2.5px solid #1E64C8;
            border-radius: 8px;
            padding: 18px;
        }
        
        .comparison-card.rnn {
            background: #FFF5F5;
            border-color: #E74C3C;
        }
        
        .comparison-card.lstm {
            background: #F0FFF4;
            border-color: #27AE60;
        }
        
        .comparison-header {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .comparison-card.rnn .comparison-header {
            color: #E74C3C;
        }
        
        .comparison-card.lstm .comparison-header {
            color: #27AE60;
        }
        
        .comparison-points {
            list-style: none;
            padding: 0;
        }
        
        .comparison-points li {
            padding: 8px 0;
            font-size: 14px;
            color: #2C3E50;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }
        
        .comparison-points li:last-child {
            border-bottom: none;
        }
        
        .comparison-points li:before {
            content: "‚Ä¢ ";
            font-weight: bold;
            margin-right: 8px;
        }
        
        .trend-example {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .trend-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        
        .trend-text {
            font-size: 15px;
            line-height: 1.6;
        }
        
        .trend-formula {
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        
        /* Computation Example Styles */
        .computation-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 3px solid #1E64C8;
        }
        
        .computation-title {
            text-align: center;
            font-size: 22px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        
        .computation-subtitle {
            text-align: center;
            font-size: 15px;
            color: #666;
            margin-bottom: 25px;
        }
        
        .setup-box {
            background: #F0F7FF;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 18px;
            margin-bottom: 20px;
        }
        
        .setup-header {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 12px;
        }
        
        .setup-content {
            display: flex;
            gap: 40px;
            justify-content: center;
        }
        
        .param-group {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .param-label {
            font-size: 14px;
            color: #555;
        }
        
        .param-value {
            font-size: 15px;
            font-weight: 600;
            color: #1E64C8;
            font-family: 'Courier New', monospace;
        }
        
        .input-sequence-box {
            background: #FFF9E6;
            border: 2px solid #F39C12;
            border-radius: 8px;
            padding: 18px;
            margin-bottom: 20px;
        }
        
        .sequence-header {
            font-size: 16px;
            font-weight: 600;
            color: #D68910;
            margin-bottom: 15px;
        }
        
        .vector-grid {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .vector-item {
            background: white;
            border: 1px solid #F39C12;
            border-radius: 6px;
            padding: 10px 15px;
            text-align: center;
            min-width: 140px;
        }
        
        .vector-label {
            font-size: 14px;
            font-weight: 600;
            color: #D68910;
            margin-bottom: 4px;
        }
        
        .vector-value {
            font-size: 13px;
            font-family: 'Courier New', monospace;
            color: #333;
        }
        
        .weights-box {
            background: #F5F0FF;
            border: 2px solid #8E44AD;
            border-radius: 8px;
            padding: 18px;
            margin-bottom: 20px;
        }
        
        .weights-header {
            font-size: 16px;
            font-weight: 600;
            color: #8E44AD;
            margin-bottom: 8px;
        }
        
        .weights-note {
            font-size: 13px;
            color: #666;
            margin-bottom: 15px;
        }
        
        .weights-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .weight-card {
            background: white;
            border: 1px solid #8E44AD;
            border-radius: 6px;
            padding: 12px;
        }
        
        .weight-name {
            font-size: 14px;
            font-weight: 600;
            color: #8E44AD;
            margin-bottom: 8px;
        }
        
        .weight-matrix {
            font-size: 11px;
            font-family: 'Courier New', monospace;
            color: #333;
            line-height: 1.5;
        }
        
        .formulas-box {
            background: #E8F8F5;
            border: 2px solid #1ABC9C;
            border-radius: 8px;
            padding: 18px;
            margin-bottom: 25px;
        }
        
        .formulas-header {
            font-size: 16px;
            font-weight: 600;
            color: #16A085;
            margin-bottom: 12px;
        }
        
        .formula-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }
        
        .formula-item {
            font-size: 13px;
            color: #333;
            padding: 6px 10px;
            background: white;
            border-radius: 4px;
        }
        
        .formula-name {
            font-weight: 600;
            color: #16A085;
        }
        
        .step-header {
            font-size: 18px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .timestep-box {
            background: white;
            border: 2px solid #3498DB;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .timestep-header {
            background: linear-gradient(135deg, #3498DB, #2980B9);
            color: white;
            padding: 12px 18px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .timestep-badge {
            background: white;
            color: #2980B9;
            padding: 4px 12px;
            border-radius: 15px;
            font-weight: 700;
            font-size: 14px;
        }
        
        .timestep-input {
            font-size: 13px;
            font-family: 'Courier New', monospace;
        }
        
        .calc-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 15px;
        }
        
        .calc-item {
            background: #F8FAFE;
            border: 1px solid #D6E9F8;
            border-radius: 6px;
            padding: 12px;
        }
        
        .calc-item.highlight {
            background: #E8F5E9;
            border-color: #27AE60;
        }
        
        .calc-label {
            font-size: 13px;
            font-weight: 600;
            color: #2980B9;
            margin-bottom: 8px;
        }
        
        .calc-item.highlight .calc-label {
            color: #27AE60;
        }
        
        .calc-detail {
            font-size: 11px;
            font-family: 'Courier New', monospace;
            color: #333;
            line-height: 1.6;
        }
        
        .remaining-steps {
            background: #FFF5F5;
            border: 2px solid #E74C3C;
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }
        
        .remaining-header {
            font-size: 16px;
            font-weight: 600;
            color: #E74C3C;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .results-table {
            background: white;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .results-row {
            display: grid;
            grid-template-columns: 40px 120px repeat(6, 1fr);
            gap: 8px;
            padding: 10px 12px;
            border-bottom: 1px solid #eee;
            align-items: center;
        }
        
        .results-row.header-row {
            background: #E74C3C;
            color: white;
            font-weight: 600;
            font-size: 12px;
        }
        
        .results-cell {
            font-size: 11px;
            font-family: 'Courier New', monospace;
            text-align: center;
        }
        
        .results-cell.bold {
            font-weight: 700;
            color: #E74C3C;
        }
        
        .results-cell.small {
            font-size: 10px;
        }
        
        .results-cell.highlight-cell {
            background: #27AE60;
            color: white;
            padding: 4px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .final-summary {
            background: linear-gradient(135deg, #27AE60, #2ECC71);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            color: white;
        }
        
        .summary-header {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .output-sequence {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .output-item {
            background: rgba(255,255,255,0.95);
            border-radius: 6px;
            padding: 10px 12px;
            text-align: center;
        }
        
        .output-label {
            font-size: 13px;
            font-weight: 600;
            color: #27AE60;
            margin-bottom: 4px;
        }
        
        .output-value {
            font-size: 11px;
            font-family: 'Courier New', monospace;
            color: #333;
        }
        
        .output-arrow {
            font-size: 20px;
            font-weight: bold;
        }
        
        .summary-note {
            font-size: 14px;
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 6px;
        }
        
        .key-insight {
            background: linear-gradient(135deg, #667EEA, #764BA2);
            border-radius: 10px;
            padding: 20px;
            color: white;
        }
        
        .insight-header {
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 12px;
        }
        
        .insight-content {
            font-size: 14px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">LSTM (Long Short-Term Memory)</div>
        
        <div class="solution-box">
            <div class="solution-text">
                ‚úì Solves vanishing gradient problem with gating mechanism
            </div>
        </div>
        
        <div class="gates-grid">
            <div class="gate-card">
                <div class="gate-icon">üö™</div>
                <div class="gate-name">Forget Gate</div>
                <div class="gate-description">
                    Decides what to remove from cell state
                </div>
            </div>
            
            <div class="gate-card">
                <div class="gate-icon">‚ûï</div>
                <div class="gate-name">Input Gate</div>
                <div class="gate-description">
                    Controls new information addition
                </div>
            </div>
            
            <div class="gate-card">
                <div class="gate-icon">üì§</div>
                <div class="gate-name">Output Gate</div>
                <div class="gate-description">
                    Determines hidden state output
                </div>
            </div>
        </div>
        
        <div class="memory-section">
            <div class="memory-card">
                <div class="memory-icon">üíæ</div>
                <div class="memory-content">
                    <div class="memory-title">Cell State</div>
                    <div class="memory-text">Long-term memory pathway</div>
                </div>
            </div>
            
            <div class="memory-card">
                <div class="memory-icon">üîÑ</div>
                <div class="memory-content">
                    <div class="memory-title">Hidden State</div>
                    <div class="memory-text">Short-term working memory</div>
                </div>
            </div>
        </div>
        
        <div class="success-box">
            <div class="success-title">üéØ Success</div>
            <div class="success-text">
                Widely successful for various sequence tasks across domains
            </div>
        </div>
        
        <div class="comparison-section">
            <div class="comparison-title">üìä RNN vs LSTM Comparison</div>
            
            <div class="comparison-grid">
                <div class="comparison-card rnn">
                    <div class="comparison-header">üî¥ RNN Issues</div>
                    <ul class="comparison-points">
                        <li>Vanishing gradient problem</li>
                        <li>Cannot capture long-term dependencies</li>
                        <li>Simple architecture with single state</li>
                        <li>Gradient diminishes exponentially over time</li>
                    </ul>
                </div>
                
                <div class="comparison-card lstm">
                    <div class="comparison-header">‚úÖ LSTM Solutions</div>
                    <ul class="comparison-points">
                        <li>Gating mechanism prevents gradient vanishing</li>
                        <li>Maintains long-term memory via cell state</li>
                        <li>Complex architecture with gates</li>
                        <li>Controlled information flow preserves gradients</li>
                    </ul>
                </div>
            </div>
            
            <div class="trend-example">
                <div class="trend-title">üí° Gradient Flow Example</div>
                <div class="trend-text">
                    Consider a sequence of length T with gradient backpropagation:
                </div>
                <div class="trend-formula">
                    RNN: ‚àÇL/‚àÇh‚ÇÄ = ‚àÇL/‚àÇh‚Çú √ó (‚àè·µ¢‚Çå‚ÇÅ·µÄ ‚àÇh·µ¢/‚àÇh·µ¢‚Çã‚ÇÅ) ‚Üí vanishes when T is large
                </div>
                <div class="trend-text">
                    LSTM gates control gradient flow, preventing exponential decay:<br>
                    Forget gate + Input gate + Cell state = Stable gradient pathway
                </div>
            </div>
        </div>
        
        <!-- LSTM Computation Example Section -->
        <div class="computation-section">
            <div class="computation-title">üî¢ Hands-On LSTM Computation Example</div>
            <div class="computation-subtitle">3D Input Vectors, Sequence Length = 5, Hidden Size = 2</div>
            
            <div class="setup-box">
                <div class="setup-header">üìã Setup & Parameters</div>
                <div class="setup-content">
                    <div class="param-group">
                        <div class="param-label">Input dimension:</div>
                        <div class="param-value">d = 3</div>
                    </div>
                    <div class="param-group">
                        <div class="param-label">Hidden dimension:</div>
                        <div class="param-value">h = 2</div>
                    </div>
                    <div class="param-group">
                        <div class="param-label">Sequence length:</div>
                        <div class="param-value">T = 5</div>
                    </div>
                </div>
            </div>
            
            <div class="input-sequence-box">
                <div class="sequence-header">üì• Input Sequence X (5 timesteps √ó 3D vectors)</div>
                <div class="vector-grid">
                    <div class="vector-item">
                        <div class="vector-label">x‚ÇÅ</div>
                        <div class="vector-value">[0.5, 0.1, -0.2]</div>
                    </div>
                    <div class="vector-item">
                        <div class="vector-label">x‚ÇÇ</div>
                        <div class="vector-value">[0.3, -0.4, 0.6]</div>
                    </div>
                    <div class="vector-item">
                        <div class="vector-label">x‚ÇÉ</div>
                        <div class="vector-value">[-0.1, 0.8, 0.2]</div>
                    </div>
                    <div class="vector-item">
                        <div class="vector-label">x‚ÇÑ</div>
                        <div class="vector-value">[0.7, 0.0, -0.5]</div>
                    </div>
                    <div class="vector-item">
                        <div class="vector-label">x‚ÇÖ</div>
                        <div class="vector-value">[0.2, 0.3, 0.4]</div>
                    </div>
                </div>
            </div>
            
            <div class="weights-box">
                <div class="weights-header">‚öñÔ∏è Weight Matrices (Simplified)</div>
                <div class="weights-note">Each gate has: W (input weights: 2√ó3), U (recurrent weights: 2√ó2), b (bias: 2√ó1)</div>
                <div class="weights-grid">
                    <div class="weight-card">
                        <div class="weight-name">Forget Gate (f)</div>
                        <div class="weight-matrix">
                            W<sub>f</sub> = [[0.3, 0.2, 0.1], [0.1, 0.4, 0.2]]<br>
                            U<sub>f</sub> = [[0.2, 0.1], [0.1, 0.3]]<br>
                            b<sub>f</sub> = [0.5, 0.5]
                        </div>
                    </div>
                    <div class="weight-card">
                        <div class="weight-name">Input Gate (i)</div>
                        <div class="weight-matrix">
                            W<sub>i</sub> = [[0.4, 0.1, 0.3], [0.2, 0.3, 0.1]]<br>
                            U<sub>i</sub> = [[0.3, 0.2], [0.2, 0.2]]<br>
                            b<sub>i</sub> = [0.0, 0.0]
                        </div>
                    </div>
                    <div class="weight-card">
                        <div class="weight-name">Cell Candidate (g)</div>
                        <div class="weight-matrix">
                            W<sub>g</sub> = [[0.2, 0.3, 0.2], [0.3, 0.1, 0.4]]<br>
                            U<sub>g</sub> = [[0.1, 0.2], [0.2, 0.1]]<br>
                            b<sub>g</sub> = [0.0, 0.0]
                        </div>
                    </div>
                    <div class="weight-card">
                        <div class="weight-name">Output Gate (o)</div>
                        <div class="weight-matrix">
                            W<sub>o</sub> = [[0.1, 0.2, 0.4], [0.3, 0.2, 0.1]]<br>
                            U<sub>o</sub> = [[0.2, 0.3], [0.1, 0.2]]<br>
                            b<sub>o</sub> = [0.0, 0.0]
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="formulas-box">
                <div class="formulas-header">üìê LSTM Equations</div>
                <div class="formula-list">
                    <div class="formula-item"><span class="formula-name">Forget Gate:</span> f<sub>t</sub> = œÉ(W<sub>f</sub>x<sub>t</sub> + U<sub>f</sub>h<sub>t-1</sub> + b<sub>f</sub>)</div>
                    <div class="formula-item"><span class="formula-name">Input Gate:</span> i<sub>t</sub> = œÉ(W<sub>i</sub>x<sub>t</sub> + U<sub>i</sub>h<sub>t-1</sub> + b<sub>i</sub>)</div>
                    <div class="formula-item"><span class="formula-name">Cell Candidate:</span> gÃÉ<sub>t</sub> = tanh(W<sub>g</sub>x<sub>t</sub> + U<sub>g</sub>h<sub>t-1</sub> + b<sub>g</sub>)</div>
                    <div class="formula-item"><span class="formula-name">Cell State:</span> c<sub>t</sub> = f<sub>t</sub> ‚äô c<sub>t-1</sub> + i<sub>t</sub> ‚äô gÃÉ<sub>t</sub></div>
                    <div class="formula-item"><span class="formula-name">Output Gate:</span> o<sub>t</sub> = œÉ(W<sub>o</sub>x<sub>t</sub> + U<sub>o</sub>h<sub>t-1</sub> + b<sub>o</sub>)</div>
                    <div class="formula-item"><span class="formula-name">Hidden State:</span> h<sub>t</sub> = o<sub>t</sub> ‚äô tanh(c<sub>t</sub>)</div>
                </div>
            </div>
            
            <div class="step-header">üîÑ Step-by-Step Computation</div>
            
            <!-- Timestep 1 -->
            <div class="timestep-box">
                <div class="timestep-header">
                    <span class="timestep-badge">t = 1</span>
                    <span class="timestep-input">Input: x‚ÇÅ = [0.5, 0.1, -0.2], h‚ÇÄ = [0, 0], c‚ÇÄ = [0, 0]</span>
                </div>
                <div class="calc-grid">
                    <div class="calc-item">
                        <div class="calc-label">1. Forget Gate</div>
                        <div class="calc-detail">
                            W<sub>f</sub>x‚ÇÅ = [0.3√ó0.5 + 0.2√ó0.1 + 0.1√ó(-0.2), 0.1√ó0.5 + 0.4√ó0.1 + 0.2√ó(-0.2)]<br>
                            = [0.15 + 0.02 - 0.02, 0.05 + 0.04 - 0.04] = [0.15, 0.05]<br>
                            f‚ÇÅ = œÉ([0.15, 0.05] + [0, 0] + [0.5, 0.5]) = œÉ([0.65, 0.55])<br>
                            <strong>f‚ÇÅ = [0.657, 0.634]</strong>
                        </div>
                    </div>
                    <div class="calc-item">
                        <div class="calc-label">2. Input Gate</div>
                        <div class="calc-detail">
                            W<sub>i</sub>x‚ÇÅ = [0.4√ó0.5 + 0.1√ó0.1 + 0.3√ó(-0.2), 0.2√ó0.5 + 0.3√ó0.1 + 0.1√ó(-0.2)]<br>
                            = [0.20 + 0.01 - 0.06, 0.10 + 0.03 - 0.02] = [0.15, 0.11]<br>
                            i‚ÇÅ = œÉ([0.15, 0.11]) = <strong>[0.537, 0.527]</strong>
                        </div>
                    </div>
                    <div class="calc-item">
                        <div class="calc-label">3. Cell Candidate</div>
                        <div class="calc-detail">
                            W<sub>g</sub>x‚ÇÅ = [0.2√ó0.5 + 0.3√ó0.1 + 0.2√ó(-0.2), 0.3√ó0.5 + 0.1√ó0.1 + 0.4√ó(-0.2)]<br>
                            = [0.10 + 0.03 - 0.04, 0.15 + 0.01 - 0.08] = [0.09, 0.08]<br>
                            gÃÉ‚ÇÅ = tanh([0.09, 0.08]) = <strong>[0.090, 0.080]</strong>
                        </div>
                    </div>
                    <div class="calc-item">
                        <div class="calc-label">4. Cell State Update</div>
                        <div class="calc-detail">
                            c‚ÇÅ = f‚ÇÅ ‚äô c‚ÇÄ + i‚ÇÅ ‚äô gÃÉ‚ÇÅ<br>
                            = [0.657, 0.634] ‚äô [0, 0] + [0.537, 0.527] ‚äô [0.090, 0.080]<br>
                            = [0, 0] + [0.048, 0.042]<br>
                            <strong>c‚ÇÅ = [0.048, 0.042]</strong>
                        </div>
                    </div>
                    <div class="calc-item">
                        <div class="calc-label">5. Output Gate</div>
                        <div class="calc-detail">
                            W<sub>o</sub>x‚ÇÅ = [0.1√ó0.5 + 0.2√ó0.1 + 0.4√ó(-0.2), 0.3√ó0.5 + 0.2√ó0.1 + 0.1√ó(-0.2)]<br>
                            = [0.05 + 0.02 - 0.08, 0.15 + 0.02 - 0.02] = [-0.01, 0.15]<br>
                            o‚ÇÅ = œÉ([-0.01, 0.15]) = <strong>[0.498, 0.537]</strong>
                        </div>
                    </div>
                    <div class="calc-item highlight">
                        <div class="calc-label">6. Hidden State Output</div>
                        <div class="calc-detail">
                            h‚ÇÅ = o‚ÇÅ ‚äô tanh(c‚ÇÅ)<br>
                            = [0.498, 0.537] ‚äô tanh([0.048, 0.042])<br>
                            = [0.498, 0.537] ‚äô [0.048, 0.042]<br>
                            <strong>h‚ÇÅ = [0.024, 0.023]</strong>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Timestep 2 -->
            <div class="timestep-box">
                <div class="timestep-header">
                    <span class="timestep-badge">t = 2</span>
                    <span class="timestep-input">Input: x‚ÇÇ = [0.3, -0.4, 0.6], h‚ÇÅ = [0.024, 0.023], c‚ÇÅ = [0.048, 0.042]</span>
                </div>
                <div class="calc-grid">
                    <div class="calc-item">
                        <div class="calc-label">1. Forget Gate</div>
                        <div class="calc-detail">
                            W<sub>f</sub>x‚ÇÇ = [0.3√ó0.3 + 0.2√ó(-0.4) + 0.1√ó0.6, 0.1√ó0.3 + 0.4√ó(-0.4) + 0.2√ó0.6]<br>
                            = [0.09 - 0.08 + 0.06, 0.03 - 0.16 + 0.12] = [0.07, -0.01]<br>
                            U<sub>f</sub>h‚ÇÅ = [0.2√ó0.024 + 0.1√ó0.023, 0.1√ó0.024 + 0.3√ó0.023] = [0.007, 0.009]<br>
                            f‚ÇÇ = œÉ([0.07 + 0.007 + 0.5, -0.01 + 0.009 + 0.5]) = œÉ([0.577, 0.499])<br>
                            <strong>f‚ÇÇ = [0.640, 0.622]</strong>
                        </div>
                    </div>
                    <div class="calc-item">
                        <div class="calc-label">2. Input Gate</div>
                        <div class="calc-detail">
                            W<sub>i</sub>x‚ÇÇ = [0.4√ó0.3 + 0.1√ó(-0.4) + 0.3√ó0.6, 0.2√ó0.3 + 0.3√ó(-0.4) + 0.1√ó0.6]<br>
                            = [0.12 - 0.04 + 0.18, 0.06 - 0.12 + 0.06] = [0.26, 0.00]<br>
                            U<sub>i</sub>h‚ÇÅ = [0.3√ó0.024 + 0.2√ó0.023, 0.2√ó0.024 + 0.2√ó0.023] = [0.012, 0.009]<br>
                            i‚ÇÇ = œÉ([0.272, 0.009]) = <strong>[0.568, 0.502]</strong>
                        </div>
                    </div>
                    <div class="calc-item">
                        <div class="calc-label">3. Cell Candidate</div>
                        <div class="calc-detail">
                            W<sub>g</sub>x‚ÇÇ = [0.2√ó0.3 + 0.3√ó(-0.4) + 0.2√ó0.6, 0.3√ó0.3 + 0.1√ó(-0.4) + 0.4√ó0.6]<br>
                            = [0.06 - 0.12 + 0.12, 0.09 - 0.04 + 0.24] = [0.06, 0.29]<br>
                            U<sub>g</sub>h‚ÇÅ = [0.1√ó0.024 + 0.2√ó0.023, 0.2√ó0.024 + 0.1√ó0.023] = [0.007, 0.007]<br>
                            gÃÉ‚ÇÇ = tanh([0.067, 0.297]) = <strong>[0.067, 0.289]</strong>
                        </div>
                    </div>
                    <div class="calc-item">
                        <div class="calc-label">4. Cell State Update</div>
                        <div class="calc-detail">
                            c‚ÇÇ = f‚ÇÇ ‚äô c‚ÇÅ + i‚ÇÇ ‚äô gÃÉ‚ÇÇ<br>
                            = [0.640, 0.622] ‚äô [0.048, 0.042] + [0.568, 0.502] ‚äô [0.067, 0.289]<br>
                            = [0.031, 0.026] + [0.038, 0.145]<br>
                            <strong>c‚ÇÇ = [0.069, 0.171]</strong>
                        </div>
                    </div>
                    <div class="calc-item">
                        <div class="calc-label">5. Output Gate</div>
                        <div class="calc-detail">
                            W<sub>o</sub>x‚ÇÇ = [0.1√ó0.3 + 0.2√ó(-0.4) + 0.4√ó0.6, 0.3√ó0.3 + 0.2√ó(-0.4) + 0.1√ó0.6]<br>
                            = [0.03 - 0.08 + 0.24, 0.09 - 0.08 + 0.06] = [0.19, 0.07]<br>
                            U<sub>o</sub>h‚ÇÅ = [0.2√ó0.024 + 0.3√ó0.023, 0.1√ó0.024 + 0.2√ó0.023] = [0.012, 0.007]<br>
                            o‚ÇÇ = œÉ([0.202, 0.077]) = <strong>[0.550, 0.519]</strong>
                        </div>
                    </div>
                    <div class="calc-item highlight">
                        <div class="calc-label">6. Hidden State Output</div>
                        <div class="calc-detail">
                            h‚ÇÇ = o‚ÇÇ ‚äô tanh(c‚ÇÇ)<br>
                            = [0.550, 0.519] ‚äô tanh([0.069, 0.171])<br>
                            = [0.550, 0.519] ‚äô [0.069, 0.169]<br>
                            <strong>h‚ÇÇ = [0.038, 0.088]</strong>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Timesteps 3-5 Summary -->
            <div class="remaining-steps">
                <div class="remaining-header">üìä Timesteps 3-5 (Computed Similarly)</div>
                <div class="results-table">
                    <div class="results-row header-row">
                        <div class="results-cell">t</div>
                        <div class="results-cell">Input x<sub>t</sub></div>
                        <div class="results-cell">f<sub>t</sub></div>
                        <div class="results-cell">i<sub>t</sub></div>
                        <div class="results-cell">gÃÉ<sub>t</sub></div>
                        <div class="results-cell">c<sub>t</sub></div>
                        <div class="results-cell">o<sub>t</sub></div>
                        <div class="results-cell">h<sub>t</sub></div>
                    </div>
                    <div class="results-row">
                        <div class="results-cell bold">3</div>
                        <div class="results-cell small">[-0.1, 0.8, 0.2]</div>
                        <div class="results-cell">[0.609, 0.667]</div>
                        <div class="results-cell">[0.527, 0.549]</div>
                        <div class="results-cell">[0.100, 0.049]</div>
                        <div class="results-cell">[0.095, 0.141]</div>
                        <div class="results-cell">[0.546, 0.542]</div>
                        <div class="results-cell highlight-cell">[0.052, 0.076]</div>
                    </div>
                    <div class="results-row">
                        <div class="results-cell bold">4</div>
                        <div class="results-cell small">[0.7, 0.0, -0.5]</div>
                        <div class="results-cell">[0.653, 0.606]</div>
                        <div class="results-cell">[0.590, 0.525]</div>
                        <div class="results-cell">[0.039, 0.019]</div>
                        <div class="results-cell">[0.085, 0.095]</div>
                        <div class="results-cell">[0.477, 0.539]</div>
                        <div class="results-cell highlight-cell">[0.040, 0.051]</div>
                    </div>
                    <div class="results-row">
                        <div class="results-cell bold">5</div>
                        <div class="results-cell small">[0.2, 0.3, 0.4]</div>
                        <div class="results-cell">[0.645, 0.651]</div>
                        <div class="results-cell">[0.558, 0.530]</div>
                        <div class="results-cell">[0.169, 0.179]</div>
                        <div class="results-cell">[0.149, 0.157]</div>
                        <div class="results-cell">[0.547, 0.532]</div>
                        <div class="results-cell highlight-cell">[0.081, 0.083]</div>
                    </div>
                </div>
            </div>
            
            <!-- Final Summary -->
            <div class="final-summary">
                <div class="summary-header">üéØ Final Output Sequence</div>
                <div class="output-sequence">
                    <div class="output-item">
                        <div class="output-label">h‚ÇÅ</div>
                        <div class="output-value">[0.024, 0.023]</div>
                    </div>
                    <div class="output-arrow">‚Üí</div>
                    <div class="output-item">
                        <div class="output-label">h‚ÇÇ</div>
                        <div class="output-value">[0.038, 0.088]</div>
                    </div>
                    <div class="output-arrow">‚Üí</div>
                    <div class="output-item">
                        <div class="output-label">h‚ÇÉ</div>
                        <div class="output-value">[0.052, 0.076]</div>
                    </div>
                    <div class="output-arrow">‚Üí</div>
                    <div class="output-item">
                        <div class="output-label">h‚ÇÑ</div>
                        <div class="output-value">[0.040, 0.051]</div>
                    </div>
                    <div class="output-arrow">‚Üí</div>
                    <div class="output-item">
                        <div class="output-label">h‚ÇÖ</div>
                        <div class="output-value">[0.081, 0.083]</div>
                    </div>
                </div>
                <div class="summary-note">
                    Final cell state c‚ÇÖ = [0.149, 0.157] retains long-term information through gating!
                </div>
            </div>
            
            <div class="key-insight">
                <div class="insight-header">üí° Key Insight</div>
                <div class="insight-content">
                    Notice how the <strong>cell state</strong> accumulates information across all 5 timesteps through controlled forgetting and addition. 
                    The forget gate values (‚âà0.6-0.7) allow partial retention of previous information, while the input gate controls how much new information is added.
                    This is how LSTMs maintain <strong>long-term dependencies</strong> that simple RNNs cannot!
                </div>
            </div>
        </div>
    </div>
</body>
</html>