<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chain Rule</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Aptos', 'Segoe UI', sans-serif;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            width: 960px;
            height: 680px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding: 40px;
        }
        
        .main-title {
            font-size: 24px;
            font-weight: 600;
            color: #1E64C8;
            text-align: center;
        }
        
        .content-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            flex: 1;
        }
        
        .concept-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #1E64C8;
            text-align: center;
            padding-bottom: 8px;
            border-bottom: 2px solid #1E64C8;
        }
        
        .definition-box {
            background: linear-gradient(135deg, #1E64C8 0%, #2874d8 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .definition-title {
            font-size: 16px;
            margin-bottom: 8px;
            opacity: 0.95;
        }
        
        .definition-formula {
            font-size: 20px;
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }
        
        .visual-explanation {
            background: #f8f9fa;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .chain-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex: 1;
        }
        
        .function-box {
            background: white;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            min-width: 80px;
        }
        
        .function-label {
            font-size: 13px;
            color: #666;
            font-weight: 600;
        }
        
        .function-value {
            font-size: 18px;
            font-weight: 600;
            color: #1E64C8;
            font-family: 'Courier New', monospace;
        }
        
        .arrow-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3px;
        }
        
        .arrow {
            font-size: 24px;
            color: #1E64C8;
            font-weight: bold;
        }
        
        .derivative-label {
            font-size: 12px;
            color: #1E64C8;
            font-weight: 600;
            font-family: 'Courier New', monospace;
            background: #e3f2fd;
            padding: 2px 6px;
            border-radius: 3px;
        }
        
        .example-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .example-card {
            background: #f8f9fa;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 15px;
            flex: 1;
        }
        
        .example-title {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .steps-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .step-item {
            background: white;
            padding: 10px 12px;
            border-radius: 6px;
            border-left: 4px solid #1E64C8;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .step-number {
            width: 24px;
            height: 24px;
            background: #1E64C8;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 13px;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
            font-size: 15px;
            color: #333;
            font-family: 'Courier New', monospace;
        }
        
        .application-section {
            grid-column: 1 / -1;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .application-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .application-card {
            background: #f8f9fa;
            border-left: 4px solid #1E64C8;
            padding: 15px;
            border-radius: 4px;
        }
        
        .app-title {
            font-size: 17px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .app-icon {
            font-size: 20px;
        }
        
        .app-description {
            font-size: 16px;
            color: #555;
            line-height: 1.5;
            margin-bottom: 8px;
        }
        
        .app-formula {
            background: white;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 15px;
            color: #333;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        .key-insight {
            background: #fff3cd;
            border-left: 4px solid #ff9800;
            padding: 15px;
            border-radius: 4px;
        }
        
        .insight-title {
            font-size: 17px;
            font-weight: 600;
            color: #e65100;
            margin-bottom: 8px;
        }
        
        .insight-text {
            font-size: 16px;
            color: #333;
            line-height: 1.5;
        }
        
        .numerical-section {
            grid-column: 1 / -1;
            background: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
        }
        
        .numerical-title {
            font-size: 17px;
            font-weight: 600;
            color: #2e7d32;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .numerical-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
        }
        
        .calc-box {
            background: white;
            border-radius: 6px;
            padding: 12px;
            text-align: center;
        }
        
        .calc-label {
            font-size: 13px;
            color: #666;
            margin-bottom: 6px;
        }
        
        .calc-formula {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #333;
            margin-bottom: 4px;
        }
        
        .calc-result {
            font-size: 18px;
            font-weight: 600;
            color: #2e7d32;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-title">Chain Rule</div>
        
        <div class="content-layout">
            <!-- Concept Section -->
            <div class="concept-section">
                <div class="section-title">Mathematical Foundation</div>
                
                <div class="definition-box">
                    <div class="definition-title">Chain Rule Formula</div>
                    <div class="definition-formula">
                        d/dx f(g(x)) = f'(g(x)) ¬∑ g'(x)
                    </div>
                </div>
                
                <div class="visual-explanation">
                    <div class="chain-diagram">
                        <div class="function-box">
                            <div class="function-label">Input</div>
                            <div class="function-value">x</div>
                        </div>
                        
                        <div class="arrow-container">
                            <div class="derivative-label">g'(x)</div>
                            <div class="arrow">‚Üí</div>
                        </div>
                        
                        <div class="function-box">
                            <div class="function-label">Inner</div>
                            <div class="function-value">g(x)</div>
                        </div>
                        
                        <div class="arrow-container">
                            <div class="derivative-label">f'(g)</div>
                            <div class="arrow">‚Üí</div>
                        </div>
                        
                        <div class="function-box">
                            <div class="function-label">Output</div>
                            <div class="function-value">f(g)</div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; font-size: 16px; color: #555; line-height: 1.5;">
                        The derivative flows backward:<br>
                        <strong style="color: #1E64C8;">‚àÇf/‚àÇx = ‚àÇf/‚àÇg √ó ‚àÇg/‚àÇx</strong>
                    </div>
                </div>
            </div>
            
            <!-- Example Section -->
            <div class="example-section">
                <div class="section-title">Step-by-Step Example</div>
                
                <div class="example-card">
                    <div class="example-title">Compute: d/dx sin(x¬≤)</div>
                    
                    <div class="steps-list">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                f(g) = sin(g), g(x) = x¬≤
                            </div>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                f'(g) = cos(g) = cos(x¬≤)
                            </div>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                g'(x) = 2x
                            </div>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                d/dx = cos(x¬≤) ¬∑ 2x
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Application Section -->
            <div class="application-section">
                <div class="section-title">Applications in Neural Networks</div>
                
                <div class="application-grid">
                    <div class="application-card">
                        <div class="app-title">
                            <span class="app-icon">üîó</span>
                            <span>Multi-layer Composition</span>
                        </div>
                        <div class="app-description">
                            Neural networks chain multiple functions through layers
                        </div>
                        <div class="app-formula">
                            y = f‚ÇÉ(f‚ÇÇ(f‚ÇÅ(x)))<br>
                            ‚àÇy/‚àÇx = ‚àÇf‚ÇÉ/‚àÇf‚ÇÇ ¬∑ ‚àÇf‚ÇÇ/‚àÇf‚ÇÅ ¬∑ ‚àÇf‚ÇÅ/‚àÇx
                        </div>
                    </div>
                    
                    <div class="application-card">
                        <div class="app-title">
                            <span class="app-icon">‚ö°</span>
                            <span>Backpropagation</span>
                        </div>
                        <div class="app-description">
                            Gradients propagate backward through the network
                        </div>
                        <div class="app-formula">
                            ‚àÇL/‚àÇw‚ÅΩÀ°‚Åæ = ‚àÇL/‚àÇz‚ÅΩÀ°‚Åæ ¬∑ ‚àÇz‚ÅΩÀ°‚Åæ/‚àÇw‚ÅΩÀ°‚Åæ<br>
                            where z‚ÅΩÀ°‚Åæ = w‚ÅΩÀ°‚Åæh‚ÅΩÀ°‚Åª¬π‚Åæ + b‚ÅΩÀ°‚Åæ
                        </div>
                    </div>
                </div>
                
                <div class="key-insight">
                    <div class="insight-title">üí° Key Insight</div>
                    <div class="insight-text">
                        The chain rule is the mathematical foundation of backpropagation. It allows us to compute gradients efficiently by decomposing complex derivatives into simpler parts, multiplying local gradients as we traverse backward through the computational graph.
                    </div>
                </div>
            </div>
            
            <!-- Numerical Example Section -->
            <div class="numerical-section">
                <div class="numerical-title">
                    <span>üî¢</span>
                    <span>Numerical Example: d/dx sin(x¬≤) at x = 2</span>
                </div>
                <div class="numerical-grid">
                    <div class="calc-box">
                        <div class="calc-label">Step 1: Inner function</div>
                        <div class="calc-formula">g(2) = 2¬≤ = 4</div>
                        <div class="calc-result">g = 4</div>
                    </div>
                    <div class="calc-box">
                        <div class="calc-label">Step 2: Outer derivative</div>
                        <div class="calc-formula">f'(g) = cos(4)</div>
                        <div class="calc-result">‚âà -0.654</div>
                    </div>
                    <div class="calc-box">
                        <div class="calc-label">Step 3: Inner derivative</div>
                        <div class="calc-formula">g'(2) = 2 √ó 2</div>
                        <div class="calc-result">= 4</div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 12px; padding: 10px; background: white; border-radius: 6px;">
                    <span style="font-size: 15px; color: #555;">Final Result: </span>
                    <span style="font-family: 'Courier New', monospace; font-size: 16px;">cos(4) √ó 4 = -0.654 √ó 4 = </span>
                    <span style="font-size: 20px; font-weight: 600; color: #2e7d32;">-2.615</span>
                </div>
            </div>
        </div>
    </div>
</body>
</html>