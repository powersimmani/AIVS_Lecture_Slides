<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCA Principles and Implementation - Extended</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .page {
            width: 960px;
            min-height: 540px;
            background: white;
            margin: 0 auto 30px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .container {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }
        
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            color: #1E64C8;
        }
        
        .subtitle {
            text-align: center;
            font-size: 16px;
            color: #666;
            margin-top: -10px;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 18px;
        }
        
        .left-section {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }
        
        .concept-box {
            background: linear-gradient(135deg, #f0f7ff 0%, #ffffff 100%);
            border: 2px solid #1E64C8;
            border-radius: 12px;
            padding: 16px;
        }
        
        .box-header {
            font-size: 18px;
            font-weight: 600;
            color: #1E64C8;
            text-align: center;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #1E64C8;
        }
        
        .concept-item {
            background: white;
            border: 1px solid #1E64C8;
            border-radius: 8px;
            padding: 10px 12px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .concept-icon {
            font-size: 20px;
            flex-shrink: 0;
        }
        
        .concept-text {
            font-size: 15px;
            color: #333;
            line-height: 1.4;
        }
        
        .steps-box {
            background: linear-gradient(135deg, #f3e5f5 0%, #ffffff 100%);
            border: 2px solid #9C27B0;
            border-radius: 12px;
            padding: 16px;
            flex: 1;
        }
        
        .steps-box .box-header {
            color: #9C27B0;
            border-color: #9C27B0;
        }
        
        .step-flow {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .step-item {
            background: white;
            border: 1px solid #9C27B0;
            border-radius: 8px;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .step-number {
            min-width: 32px;
            height: 32px;
            background: #9C27B0;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            flex-shrink: 0;
        }
        
        .step-text {
            font-size: 15px;
            color: #333;
            line-height: 1.3;
        }
        
        .step-arrow {
            text-align: center;
            color: #9C27B0;
            font-size: 20px;
            margin: -4px 0;
        }
        
        .right-section {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }
        
        .selection-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffffff 100%);
            border: 2px solid #FF9800;
            border-radius: 12px;
            padding: 16px;
        }
        
        .selection-box .box-header {
            color: #F57C00;
            border-color: #FF9800;
        }
        
        .selection-content {
            background: white;
            border: 1px solid #FF9800;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }
        
        .selection-text {
            font-size: 15px;
            color: #555;
            line-height: 1.4;
            margin-bottom: 8px;
        }
        
        .selection-example {
            font-size: 14px;
            color: #F57C00;
            font-weight: 600;
        }
        
        .limitations-box {
            background: linear-gradient(135deg, #ffebee 0%, #ffffff 100%);
            border: 2px solid #e57373;
            border-radius: 12px;
            padding: 16px;
        }
        
        .limitations-box .box-header {
            color: #d32f2f;
            border-color: #e57373;
        }
        
        .limitation-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .limitation-list li {
            font-size: 15px;
            color: #333;
            padding-left: 24px;
            position: relative;
            line-height: 1.4;
        }
        
        .limitation-list li:before {
            content: "‚ö† ";
            position: absolute;
            left: 0;
            color: #e57373;
            font-size: 18px;
        }
        
        .applications-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #ffffff 100%);
            border: 2px solid #4CAF50;
            border-radius: 12px;
            padding: 16px;
            flex: 1;
        }
        
        .applications-box .box-header {
            color: #388E3C;
            border-color: #4CAF50;
        }
        
        .app-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
        }
        
        .app-item {
            background: white;
            border: 1px solid #4CAF50;
            border-radius: 8px;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .app-icon {
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .app-text {
            font-size: 15px;
            color: #333;
        }

        /* New styles for extended pages */
        .example-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #ffffff 100%);
            border: 2px solid #2196F3;
            border-radius: 12px;
            padding: 20px;
        }

        .example-box .box-header {
            color: #1976D2;
            border-color: #2196F3;
            font-size: 20px;
        }

        .calculation-step {
            background: white;
            border: 1px solid #2196F3;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .calc-title {
            font-weight: 600;
            color: #1976D2;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .matrix-display {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 12px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 8px 0;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }

        .data-table th,
        .data-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        .data-table th {
            background-color: #2196F3;
            color: white;
            font-weight: 600;
        }

        .data-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .result-highlight {
            background: #fff9c4;
            border-left: 4px solid #FFC107;
            padding: 12px;
            margin: 10px 0;
            border-radius: 4px;
        }

        .formula {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Times New Roman', serif;
            font-style: italic;
            text-align: center;
            margin: 10px 0;
            font-size: 15px;
        }

        .visualization-container {
            background: white;
            border: 2px solid #673AB7;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .viz-header {
            font-size: 20px;
            font-weight: 600;
            color: #673AB7;
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #673AB7;
        }

        .viz-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .viz-box {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fafafa;
        }

        .viz-title {
            font-weight: 600;
            color: #673AB7;
            margin-bottom: 10px;
            text-align: center;
        }

        .viz-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #e1bee7 0%, #f3e5f5 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 10px;
            color: #673AB7;
        }

        .viz-placeholder svg {
            width: 80px;
            height: 80px;
        }

        .key-insight {
            background: linear-gradient(135deg, #c8e6c9 0%, #ffffff 100%);
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
        }

        .insight-icon {
            display: inline-block;
            margin-right: 8px;
            font-size: 20px;
        }

        .interpretation-box {
            background: linear-gradient(135deg, #fff9c4 0%, #ffffff 100%);
            border: 2px solid #FFC107;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .interpretation-box .box-header {
            color: #F57F17;
            border-color: #FFC107;
        }

        .interpretation-item {
            background: white;
            border: 1px solid #FFC107;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .comparison-item {
            background: white;
            border: 2px solid #2196F3;
            border-radius: 8px;
            padding: 15px;
        }

        .comparison-title {
            font-weight: 600;
            color: #1976D2;
            margin-bottom: 10px;
            text-align: center;
            font-size: 16px;
        }

        .dimension-badge {
            display: inline-block;
            background: #2196F3;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin: 5px 5px 5px 0;
        }

        .code-block {
            background: #263238;
            color: #aed581;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
            line-height: 1.6;
            white-space: pre;
        }

        .code-comment {
            color: #78909c;
        }
        
        .code-keyword {
            color: #c792ea;
        }
        
        .code-string {
            color: #c3e88d;
        }
        
        .code-function {
            color: #82aaff;
        }

        .reference-box {
            background: #f5f5f5;
            border-left: 4px solid #9E9E9E;
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
        }

        .reference-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #424242;
        }

        .reference-list {
            list-style: none;
            padding-left: 0;
        }

        .reference-list li {
            padding: 5px 0;
            color: #616161;
            font-size: 14px;
        }

        .reference-list a {
            color: #1976D2;
            text-decoration: none;
        }

        .reference-list a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Page 1: Original Content -->
    <div class="page">
        <div class="container">
            <div class="title">PCA: Principal Component Analysis</div>
            <div class="subtitle">Linear dimensionality reduction technique</div>
            
            <div class="main-grid">
                <div class="left-section">
                    <div class="concept-box">
                        <div class="box-header">üí° Core Concepts</div>
                        
                        <div class="concept-item">
                            <div class="concept-icon">üéØ</div>
                            <div class="concept-text"><strong>Goal:</strong> Find directions of maximum variance</div>
                        </div>
                        
                        <div class="concept-item">
                            <div class="concept-icon">üìê</div>
                            <div class="concept-text"><strong>Principal Components:</strong> Orthogonal eigenvectors of covariance matrix</div>
                        </div>
                        
                        <div class="concept-item">
                            <div class="concept-icon">üìä</div>
                            <div class="concept-text"><strong>Eigenvalues:</strong> Variance explained by each component</div>
                        </div>
                    </div>
                    
                    <div class="steps-box">
                        <div class="box-header">üîÑ Implementation Steps</div>
                        <div class="step-flow">
                            <div class="step-item">
                                <div class="step-number">1</div>
                                <div class="step-text">Center data (subtract mean)</div>
                            </div>
                            
                            <div class="step-arrow">‚Üì</div>
                            
                            <div class="step-item">
                                <div class="step-number">2</div>
                                <div class="step-text">Compute covariance matrix</div>
                            </div>
                            
                            <div class="step-arrow">‚Üì</div>
                            
                            <div class="step-item">
                                <div class="step-number">3</div>
                                <div class="step-text">Eigen decomposition</div>
                            </div>
                            
                            <div class="step-arrow">‚Üì</div>
                            
                            <div class="step-item">
                                <div class="step-number">4</div>
                                <div class="step-text">Project onto top k components</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="right-section">
                    <div class="selection-box">
                        <div class="box-header">üìà Component Selection</div>
                        <div class="selection-content">
                            <div class="selection-text">Use scree plot to choose k components</div>
                            <div class="selection-example">Example: Select k explaining 95% variance</div>
                        </div>
                    </div>
                    
                    <div class="limitations-box">
                        <div class="box-header">‚ö†Ô∏è Limitations</div>
                        <ul class="limitation-list">
                            <li>Linear transformation only</li>
                            <li>Sensitive to feature scaling</li>
                            <li>May lose interpretability</li>
                        </ul>
                    </div>
                    
                    <div class="applications-box">
                        <div class="box-header">üéØ Applications</div>
                        <div class="app-grid">
                            <div class="app-item">
                                <div class="app-icon">üíæ</div>
                                <div class="app-text">Data compression</div>
                            </div>
                            
                            <div class="app-item">
                                <div class="app-icon">üîá</div>
                                <div class="app-text">Noise reduction</div>
                            </div>
                            
                            <div class="app-item">
                                <div class="app-icon">üìä</div>
                                <div class="app-text">Visualization</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 2: Step-by-Step Numerical Example -->
    <div class="page">
        <div class="container">
            <div class="title">üìê PCA Step-by-Step Numerical Example</div>
            <div class="subtitle">2D to 1D Dimension Reduction</div>
            
            <div class="example-box">
                <div class="box-header">üî¢ Sample Dataset</div>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Sample</th>
                            <th>X‚ÇÅ</th>
                            <th>X‚ÇÇ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>2</td><td>1</td></tr>
                        <tr><td>2</td><td>3</td><td>5</td></tr>
                        <tr><td>3</td><td>4</td><td>3</td></tr>
                        <tr><td>4</td><td>5</td><td>6</td></tr>
                        <tr><td>5</td><td>6</td><td>7</td></tr>
                        <tr><td>6</td><td>7</td><td>8</td></tr>
                    </tbody>
                </table>

                <div class="calculation-step">
                    <div class="calc-title">Step 1: Calculate Mean Vector (Œº)</div>
                    <div class="formula">
                        Œº‚ÇÅ = (2+3+4+5+6+7)/6 = 4.5<br>
                        Œº‚ÇÇ = (1+5+3+6+7+8)/6 = 5.0
                    </div>
                    <div class="result-highlight">
                        <strong>Mean Vector:</strong> Œº = [4.5, 5.0]
                    </div>
                </div>

                <div class="calculation-step">
                    <div class="calc-title">Step 2: Center the Data (Subtract Mean)</div>
                    <div class="matrix-display">
X_centered = X - Œº

[-2.5, -4.0]
[-1.5,  0.0]
[-0.5, -2.0]
[ 0.5,  1.0]
[ 1.5,  2.0]
[ 2.5,  3.0]
                    </div>
                </div>

                <div class="calculation-step">
                    <div class="calc-title">Step 3: Compute Covariance Matrix</div>
                    <div class="formula">
                        Cov(X) = (1/(n-1)) √ó X_centered^T √ó X_centered
                    </div>
                    <div class="matrix-display">
Covariance Matrix:

[  3.5    3.75 ]
[  3.75   10.0 ]
                    </div>
                    <div class="key-insight">
                        <span class="insight-icon">üí°</span>
                        <strong>Interpretation:</strong> The diagonal elements (3.5, 10.0) represent variances of X‚ÇÅ and X‚ÇÇ. Off-diagonal elements (3.75) show positive correlation between variables.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 3: Eigendecomposition -->
    <div class="page">
        <div class="container">
            <div class="title">üîç Eigendecomposition & Component Selection</div>
            
            <div class="example-box">
                <div class="box-header">‚öôÔ∏è Computing Eigenvectors and Eigenvalues</div>
                
                <div class="calculation-step">
                    <div class="calc-title">Step 4: Solve Characteristic Equation</div>
                    <div class="formula">
                        det(Cov(X) - ŒªI) = 0
                    </div>
                    <div class="matrix-display">
|  3.5-Œª    3.75  |
|  3.75    10.0-Œª | = 0

(3.5-Œª)(10.0-Œª) - (3.75)¬≤ = 0
Œª¬≤ - 13.5Œª + 20.94 = 0
                    </div>
                    <div class="result-highlight">
                        <strong>Eigenvalues:</strong><br>
                        Œª‚ÇÅ = 11.93 (88.4% variance explained)<br>
                        Œª‚ÇÇ = 1.57 (11.6% variance explained)
                    </div>
                </div>

                <div class="calculation-step">
                    <div class="calc-title">Step 5: Calculate Eigenvectors</div>
                    <div class="matrix-display">
For Œª‚ÇÅ = 11.93:
Eigenvector v‚ÇÅ = [0.478, 0.878] (normalized)

For Œª‚ÇÇ = 1.57:
Eigenvector v‚ÇÇ = [-0.878, 0.478] (normalized)
                    </div>
                    <div class="key-insight">
                        <span class="insight-icon">üéØ</span>
                        <strong>Principal Component 1 (PC1):</strong> Direction of maximum variance, pointing towards [0.478, 0.878]
                    </div>
                </div>

                <div class="calculation-step">
                    <div class="calc-title">Step 6: Variance Explained</div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Eigenvalue</th>
                                <th>% Variance</th>
                                <th>Cumulative %</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>PC1</td>
                                <td>11.93</td>
                                <td>88.4%</td>
                                <td>88.4%</td>
                            </tr>
                            <tr>
                                <td>PC2</td>
                                <td>1.57</td>
                                <td>11.6%</td>
                                <td>100.0%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="calculation-step">
                    <div class="calc-title">Step 7: Project Data onto PC1</div>
                    <div class="formula">
                        Z = X_centered √ó v‚ÇÅ
                    </div>
                    <div class="matrix-display">
Transformed Data (1D):

z‚ÇÅ = [-2.5, -4.0] ¬∑ [0.478, 0.878] = -4.71
z‚ÇÇ = [-1.5,  0.0] ¬∑ [0.478, 0.878] = -0.72
z‚ÇÉ = [-0.5, -2.0] ¬∑ [0.478, 0.878] = -1.99
z‚ÇÑ = [ 0.5,  1.0] ¬∑ [0.478, 0.878] =  1.12
z‚ÇÖ = [ 1.5,  2.0] ¬∑ [0.478, 0.878] =  2.47
z‚ÇÜ = [ 2.5,  3.0] ¬∑ [0.478, 0.878] =  3.83
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 4: Visualization Concepts -->
    <div class="page">
        <div class="container">
            <div class="title">üìä PCA Visualization: 3D to 2D Example</div>
            <div class="subtitle">Understanding dimensionality reduction visually</div>
            
            <div class="visualization-container">
                <div class="viz-header">üé® 3D Data Visualization</div>
                
                <div class="viz-grid">
                    <div class="viz-box">
                        <div class="viz-title">Original 3D Data Space</div>
                        <div class="viz-placeholder">
                            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="30" cy="30" r="3" fill="#2196F3"/>
                                <circle cx="50" cy="40" r="3" fill="#2196F3"/>
                                <circle cx="40" cy="60" r="3" fill="#2196F3"/>
                                <circle cx="70" cy="50" r="3" fill="#2196F3"/>
                                <circle cx="60" cy="70" r="3" fill="#2196F3"/>
                                <line x1="10" y1="90" x2="90" y2="90" stroke="#666" stroke-width="2"/>
                                <line x1="10" y1="90" x2="10" y2="10" stroke="#666" stroke-width="2"/>
                                <line x1="10" y1="90" x2="5" y2="95" stroke="#666" stroke-width="2"/>
                                <text x="85" y="95" font-size="8" fill="#666">X</text>
                                <text x="5" y="8" font-size="8" fill="#666">Y</text>
                                <text x="0" y="98" font-size="8" fill="#666">Z</text>
                            </svg>
                            <div style="font-size: 14px; color: #424242;">
                                <span class="dimension-badge">X‚ÇÅ</span>
                                <span class="dimension-badge">X‚ÇÇ</span>
                                <span class="dimension-badge">X‚ÇÉ</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="viz-box">
                        <div class="viz-title">Reduced 2D Space (PC1 & PC2)</div>
                        <div class="viz-placeholder">
                            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="25" cy="50" r="3" fill="#4CAF50"/>
                                <circle cx="40" cy="45" r="3" fill="#4CAF50"/>
                                <circle cx="50" cy="55" r="3" fill="#4CAF50"/>
                                <circle cx="65" cy="48" r="3" fill="#4CAF50"/>
                                <circle cx="75" cy="52" r="3" fill="#4CAF50"/>
                                <line x1="10" y1="80" x2="90" y2="80" stroke="#666" stroke-width="2"/>
                                <line x1="10" y1="80" x2="10" y2="20" stroke="#666" stroke-width="2"/>
                                <text x="82" y="85" font-size="8" fill="#666">PC1</text>
                                <text x="5" y="18" font-size="8" fill="#666">PC2</text>
                            </svg>
                            <div style="font-size: 14px; color: #424242;">
                                <span class="dimension-badge" style="background: #4CAF50;">PC1</span>
                                <span class="dimension-badge" style="background: #4CAF50;">PC2</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="key-insight" style="margin-top: 20px;">
                    <span class="insight-icon">üìâ</span>
                    <strong>Dimension Reduction:</strong> From 3D (X‚ÇÅ, X‚ÇÇ, X‚ÇÉ) ‚Üí 2D (PC1, PC2) while preserving 95%+ of variance
                </div>
            </div>

            <div class="interpretation-box">
                <div class="box-header">üîç Visual Interpretation Guide</div>
                
                <div class="interpretation-item">
                    <strong>üéØ PC1 Direction:</strong> Points along the direction of maximum spread (variance) in the data. This is where the data varies the most.
                </div>
                
                <div class="interpretation-item">
                    <strong>üìê PC2 Direction:</strong> Orthogonal to PC1, captures the second largest variance. Always perpendicular to all previous components.
                </div>
                
                <div class="interpretation-item">
                    <strong>üîÑ Data Projection:</strong> Each data point is projected onto the new PC axes. Distance from origin indicates the component score.
                </div>
                
                <div class="interpretation-item">
                    <strong>üìä Information Loss:</strong> The reduction from 3D to 2D means discarding PC3. The eigenvalue of PC3 tells us how much information is lost.
                </div>
            </div>
        </div>
    </div>

    <!-- Page 5: Practical Implementation -->
    <div class="page">
        <div class="container">
            <div class="title">üíª Python Implementation Example</div>
            <div class="subtitle">Using NumPy and scikit-learn</div>
            
            <div class="example-box">
                <div class="box-header">üêç Method 1: NumPy (From Scratch)</div>
                
                <div class="code-block"><span class="code-comment"># Import libraries</span>
<span class="code-keyword">import</span> numpy <span class="code-keyword">as</span> np

<span class="code-comment"># Sample data</span>
X = np.<span class="code-function">array</span>([[2, 1], [3, 5], [4, 3], 
              [5, 6], [6, 7], [7, 8]])

<span class="code-comment"># Step 1: Center the data</span>
X_mean = np.<span class="code-function">mean</span>(X, axis=0)
X_centered = X - X_mean

<span class="code-comment"># Step 2: Compute covariance matrix</span>
cov_matrix = np.<span class="code-function">cov</span>(X_centered.T)

<span class="code-comment"># Step 3: Eigendecomposition</span>
eigenvalues, eigenvectors = np.linalg.<span class="code-function">eig</span>(cov_matrix)

<span class="code-comment"># Step 4: Sort by eigenvalues</span>
idx = eigenvalues.<span class="code-function">argsort</span>()[::-1]
eigenvalues = eigenvalues[idx]
eigenvectors = eigenvectors[:, idx]

<span class="code-comment"># Step 5: Project data onto PC1</span>
PC1 = eigenvectors[:, 0]
X_pca = X_centered @ PC1

<span class="code-function">print</span>(<span class="code-string">"Eigenvalues:"</span>, eigenvalues)
<span class="code-function">print</span>(<span class="code-string">"PC1:"</span>, PC1)
<span class="code-function">print</span>(<span class="code-string">"Transformed data:"</span>, X_pca)</div>
            </div>

            <div class="example-box" style="margin-top: 20px;">
                <div class="box-header">‚ö° Method 2: scikit-learn (Production Ready)</div>
                
                <div class="code-block"><span class="code-comment"># Import PCA from scikit-learn</span>
<span class="code-keyword">from</span> sklearn.decomposition <span class="code-keyword">import</span> PCA
<span class="code-keyword">import</span> numpy <span class="code-keyword">as</span> np

<span class="code-comment"># Sample data</span>
X = np.<span class="code-function">array</span>([[2, 1], [3, 5], [4, 3], 
              [5, 6], [6, 7], [7, 8]])

<span class="code-comment"># Create PCA object (reduce to 1 component)</span>
pca = <span class="code-function">PCA</span>(n_components=1)

<span class="code-comment"># Fit and transform</span>
X_pca = pca.<span class="code-function">fit_transform</span>(X)

<span class="code-comment"># Access results</span>
<span class="code-function">print</span>(<span class="code-string">"Explained variance ratio:"</span>, 
      pca.explained_variance_ratio_)
<span class="code-function">print</span>(<span class="code-string">"Principal components:"</span>, 
      pca.components_)
<span class="code-function">print</span>(<span class="code-string">"Transformed data:"</span>, X_pca)

<span class="code-comment"># For 3D to 2D reduction</span>
pca_3d = <span class="code-function">PCA</span>(n_components=2)
X_3d_to_2d = pca_3d.<span class="code-function">fit_transform</span>(X_3d_data)</div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-item">
                    <div class="comparison-title">üìà Before PCA</div>
                    <ul style="list-style: none; padding: 10px;">
                        <li>‚úì Original dimensions: 3D or more</li>
                        <li>‚úì All features present</li>
                        <li>‚úì Full information retained</li>
                        <li>‚úó Computational cost high</li>
                        <li>‚úó Difficult to visualize</li>
                        <li>‚úó Possible multicollinearity</li>
                    </ul>
                </div>
                
                <div class="comparison-item">
                    <div class="comparison-title">üìâ After PCA</div>
                    <ul style="list-style: none; padding: 10px;">
                        <li>‚úì Reduced dimensions: 2D or 1D</li>
                        <li>‚úì Uncorrelated components</li>
                        <li>‚úì 95%+ variance retained</li>
                        <li>‚úì Faster computation</li>
                        <li>‚úì Easy visualization</li>
                        <li>‚úó Interpretability reduced</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 6: Advanced Visualization & Scree Plot -->
    <div class="page">
        <div class="container">
            <div class="title">üìà Component Selection & Scree Plot</div>
            <div class="subtitle">How many components should we keep?</div>
            
            <div class="example-box">
                <div class="box-header">üìä Scree Plot Analysis</div>
                
                <div class="viz-placeholder" style="height: 400px; background: white;">
                    <svg viewBox="0 0 500 300" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: 100%;">
                        <!-- Background -->
                        <rect width="500" height="300" fill="#fafafa"/>
                        
                        <!-- Grid lines -->
                        <line x1="80" y1="240" x2="480" y2="240" stroke="#e0e0e0" stroke-width="1"/>
                        <line x1="80" y1="200" x2="480" y2="200" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="3,3"/>
                        <line x1="80" y1="160" x2="480" y2="160" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="3,3"/>
                        <line x1="80" y1="120" x2="480" y2="120" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="3,3"/>
                        <line x1="80" y1="80" x2="480" y2="80" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="3,3"/>
                        <line x1="80" y1="40" x2="480" y2="40" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="3,3"/>
                        
                        <!-- Axes -->
                        <line x1="80" y1="240" x2="480" y2="240" stroke="#333" stroke-width="3"/>
                        <line x1="80" y1="240" x2="80" y2="20" stroke="#333" stroke-width="3"/>
                        
                        <!-- Arrow heads -->
                        <polygon points="480,240 475,237 475,243" fill="#333"/>
                        <polygon points="80,20 77,25 83,25" fill="#333"/>
                        
                        <!-- Data points and line -->
                        <circle cx="140" cy="50" r="8" fill="#2196F3" stroke="white" stroke-width="2"/>
                        <circle cx="210" cy="110" r="8" fill="#2196F3" stroke="white" stroke-width="2"/>
                        <circle cx="280" cy="160" r="8" fill="#2196F3" stroke="white" stroke-width="2"/>
                        <circle cx="350" cy="190" r="8" fill="#2196F3" stroke="white" stroke-width="2"/>
                        <circle cx="420" cy="210" r="8" fill="#2196F3" stroke="white" stroke-width="2"/>
                        
                        <polyline points="140,50 210,110 280,160 350,190 420,210" 
                                  stroke="#2196F3" stroke-width="4" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                        
                        <!-- Elbow indicator -->
                        <circle cx="210" cy="110" r="15" stroke="#FF5722" stroke-width="3" fill="none"/>
                        <path d="M 225 105 L 250 90" stroke="#FF5722" stroke-width="2"/>
                        <text x="255" y="95" font-size="16" fill="#FF5722" font-weight="bold">‚Üê Elbow Point</text>
                        
                        <!-- Eigenvalue labels on points -->
                        <text x="125" y="40" font-size="14" fill="#1976D2" font-weight="bold">11.93</text>
                        <text x="195" y="100" font-size="14" fill="#1976D2" font-weight="bold">1.57</text>
                        <text x="268" y="150" font-size="14" fill="#666" font-weight="bold">0.45</text>
                        <text x="338" y="180" font-size="14" fill="#666" font-weight="bold">0.18</text>
                        <text x="408" y="200" font-size="14" fill="#666" font-weight="bold">0.05</text>
                        
                        <!-- X-axis labels -->
                        <text x="132" y="260" font-size="15" fill="#333" font-weight="600">PC1</text>
                        <text x="202" y="260" font-size="15" fill="#333" font-weight="600">PC2</text>
                        <text x="272" y="260" font-size="15" fill="#333" font-weight="600">PC3</text>
                        <text x="342" y="260" font-size="15" fill="#333" font-weight="600">PC4</text>
                        <text x="412" y="260" font-size="15" fill="#333" font-weight="600">PC5</text>
                        
                        <!-- Y-axis labels -->
                        <text x="55" y="245" font-size="14" fill="#333">0</text>
                        <text x="55" y="205" font-size="14" fill="#333">3</text>
                        <text x="55" y="165" font-size="14" fill="#333">6</text>
                        <text x="55" y="125" font-size="14" fill="#333">9</text>
                        <text x="50" y="85" font-size="14" fill="#333">12</text>
                        <text x="50" y="45" font-size="14" fill="#333">15</text>
                        
                        <!-- Axis titles -->
                        <text x="30" y="130" font-size="16" fill="#333" font-weight="600" transform="rotate(-90 30 130)">Eigenvalue</text>
                        <text x="250" y="285" font-size="16" fill="#333" font-weight="600" text-anchor="middle">Principal Component</text>
                        
                        <!-- Title -->
                        <text x="250" y="15" font-size="18" fill="#1976D2" font-weight="bold" text-anchor="middle">Scree Plot: Variance Explained by Each Component</text>
                    </svg>
                </div>

                <div class="key-insight">
                    <span class="insight-icon">üéØ</span>
                    <strong>Elbow Method:</strong> Choose the number of components at the "elbow" point where the eigenvalue curve flattens out. In this example, keeping 2 components is optimal.
                </div>

                <div class="calculation-step">
                    <div class="calc-title">Decision Criteria for Component Selection</div>
                    
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Rule</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Variance Threshold</strong></td>
                                <td>Keep components explaining 95% variance</td>
                                <td>If PC1+PC2 = 96%, keep 2 components</td>
                            </tr>
                            <tr>
                                <td><strong>Kaiser Rule</strong></td>
                                <td>Keep eigenvalues > 1</td>
                                <td>If Œª‚ÇÅ=11.93, Œª‚ÇÇ=1.57, keep both</td>
                            </tr>
                            <tr>
                                <td><strong>Elbow Method</strong></td>
                                <td>Visual inspection of scree plot</td>
                                <td>Choose point where curve bends</td>
                            </tr>
                            <tr>
                                <td><strong>Fixed Dimension</strong></td>
                                <td>Reduce to 2D or 3D for visualization</td>
                                <td>Always keep exactly 2 or 3 PCs</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="interpretation-box">
                <div class="box-header">üéì Practical Guidelines</div>
                
                <div class="interpretation-item">
                    <strong>‚úÖ When to Use PCA:</strong>
                    <ul style="margin: 10px 0 0 20px; line-height: 1.8;">
                        <li>High-dimensional data (p > 50 features)</li>
                        <li>Features are highly correlated</li>
                        <li>Need for data visualization</li>
                        <li>Computational efficiency required</li>
                        <li>Noise reduction in signal processing</li>
                    </ul>
                </div>
                
                <div class="interpretation-item">
                    <strong>‚ùå When NOT to Use PCA:</strong>
                    <ul style="margin: 10px 0 0 20px; line-height: 1.8;">
                        <li>Need to maintain feature interpretability</li>
                        <li>Features have different scales (standardize first!)</li>
                        <li>Non-linear relationships in data (use Kernel PCA)</li>
                        <li>Small sample size (n < p)</li>
                        <li>Sparse data (many zeros)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 7: Real-World Applications -->
    <div class="page">
        <div class="container">
            <div class="title">üåç Real-World PCA Applications</div>
            <div class="subtitle">From theory to practice</div>
            
            <div class="example-box">
                <div class="box-header">üî¨ Case Study 1: Image Compression</div>
                
                <div class="interpretation-item">
                    <strong>Problem:</strong> A 100√ó100 grayscale image has 10,000 pixels (dimensions)
                </div>
                
                <div class="calculation-step">
                    <div class="calc-title">PCA Solution</div>
                    <div style="padding: 10px; line-height: 1.8;">
                        <strong>Step 1:</strong> Treat each image as a 10,000-dimensional vector<br>
                        <strong>Step 2:</strong> Apply PCA to find principal components<br>
                        <strong>Step 3:</strong> Keep top 100 components (99% variance)<br>
                        <strong>Step 4:</strong> Reconstruct image using only 100 components
                    </div>
                    <div class="result-highlight">
                        <strong>Result:</strong> 100√ó compression ratio with minimal quality loss!<br>
                        Storage: 10,000 ‚Üí 100 coefficients per image
                    </div>
                </div>
            </div>

            <div class="example-box" style="margin-top: 15px;">
                <div class="box-header">üìä Case Study 2: Stock Market Analysis</div>
                
                <div class="interpretation-item">
                    <strong>Problem:</strong> Analyzing 500 stocks (S&P 500) with daily returns
                </div>
                
                <div class="calculation-step">
                    <div class="calc-title">PCA Insights</div>
                    <div class="code-block"><span class="code-comment"># Stock returns data: 252 days √ó 500 stocks</span>
<span class="code-keyword">from</span> sklearn.decomposition <span class="code-keyword">import</span> PCA
<span class="code-keyword">import</span> pandas <span class="code-keyword">as</span> pd

<span class="code-comment"># Apply PCA</span>
pca = <span class="code-function">PCA</span>(n_components=10)
pc_scores = pca.<span class="code-function">fit_transform</span>(stock_returns)

<span class="code-comment"># Analyze variance explained</span>
variance_explained = pca.explained_variance_ratio_
cumulative_variance = variance_explained.<span class="code-function">cumsum</span>()

<span class="code-function">print</span>(<span class="code-string">"PC1 explains:"</span>, variance_explained[0])
<span class="code-comment"># Output: PC1 explains: 0.42 (42% of market movement!)</span></div>
                    <div class="result-highlight">
                        <strong>Interpretation:</strong> PC1 often represents "the market" - overall market movement. PC2-PC3 capture sector-specific effects.
                    </div>
                </div>
            </div>

            <div class="example-box" style="margin-top: 15px;">
                <div class="box-header">üß¨ Case Study 3: Gene Expression Analysis</div>
                
                <div class="interpretation-item">
                    <strong>Problem:</strong> 20,000 genes measured across 100 patients
                </div>
                
                <div class="calculation-step">
                    <div class="calc-title">Bioinformatics Application</div>
                    <table class="data-table" style="margin-top: 10px;">
                        <thead>
                            <tr>
                                <th>Original</th>
                                <th>After PCA</th>
                                <th>Benefit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>20,000 dimensions</td>
                                <td>50 dimensions</td>
                                <td>400√ó reduction</td>
                            </tr>
                            <tr>
                                <td>Impossible to visualize</td>
                                <td>2D/3D plot</td>
                                <td>Pattern discovery</td>
                            </tr>
                            <tr>
                                <td>High noise</td>
                                <td>Filtered signal</td>
                                <td>Better classification</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="key-insight" style="margin-top: 15px;">
                        <span class="insight-icon">üí°</span>
                        PCA revealed hidden patient subgroups that weren't visible in original data!
                    </div>
                </div>
            </div>

            <div class="reference-box" style="margin-top: 20px;">
                <div class="reference-title">üìñ Reference</div>
                <ul class="reference-list">
                    <li>
                        <strong>Interactive 3D Visualization Tutorial:</strong><br>
                        <a href="https://bryanhanson.github.io/LearnPCA/articles/Vig_05_Visualizing_PCA_3D.html" target="_blank">
                            LearnPCA - Visualizing PCA in 3D
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>


</body>
</html>