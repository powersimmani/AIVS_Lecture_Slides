<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Depthwise Separable Convolution</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow-x: hidden;
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 960px;
            width: 95vw;
            background: white;
            position: relative;
            padding: 20px 35px;
        }
        
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 16px;
        }
        
        .key-insight {
            background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
            border: 3px solid #1E64C8;
            border-radius: 12px;
            padding: 10px 18px;
            margin-bottom: 16px;
            text-align: center;
        }
        
        .insight-label {
            font-size: 14px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 3px;
        }
        
        .insight-text {
            font-size: 16px;
            color: #333;
        }
        
        .comparison-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .conv-card {
            background: white;
            border: 3px solid;
            border-radius: 12px;
            padding: 14px;
            transition: all 0.3s ease;
        }
        
        .conv-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .conv-card.standard {
            border-color: #E57373;
            background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);
        }
        
        .conv-card.separable {
            border-color: #4CAF50;
            background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
        }
        
        .card-header {
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .conv-card.standard .card-header {
            color: #C62828;
        }
        
        .conv-card.separable .card-header {
            color: #2E7D32;
        }
        
        .conv-visual {
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }
        
        .process-box {
            background: linear-gradient(135deg, #90CAF9 0%, #64B5F6 100%);
            border: 2px solid #1E88E5;
            border-radius: 6px;
            padding: 10px 15px;
            color: white;
            font-size: 15px;
            font-weight: 700;
            text-align: center;
            width: 100%;
        }
        
        .conv-card.separable .process-box.depthwise {
            background: linear-gradient(135deg, #FFB74D 0%, #FF9800 100%);
            border-color: #F57C00;
        }
        
        .conv-card.separable .process-box.pointwise {
            background: linear-gradient(135deg, #81C784 0%, #66BB6A 100%);
            border-color: #43A047;
        }
        
        .arrow-down {
            font-size: 20px;
            color: #1E64C8;
            font-weight: 700;
        }
        
        .formula-box {
            background: #FFF8E1;
            border-radius: 6px;
            padding: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #333;
            text-align: center;
            font-weight: 600;
        }
        
        .savings-section {
            background: #E8F5E9;
            border: 3px solid #4CAF50;
            border-radius: 12px;
            padding: 12px 18px;
            margin-bottom: 12px;
        }
        
        .savings-title {
            font-size: 16px;
            font-weight: 700;
            color: #2E7D32;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .savings-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .savings-item {
            background: white;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
        }
        
        .savings-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 4px;
        }
        
        .savings-value {
            font-size: 18px;
            font-weight: 700;
            color: #2E7D32;
        }
        
        .applications-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .app-card {
            background: white;
            border: 2px solid #1E64C8;
            border-radius: 8px;
            padding: 10px 12px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .app-card:hover {
            background: #F0F6FF;
        }
        
        .app-icon {
            font-size: 20px;
            margin-right: 10px;
        }
        
        .app-content {
            flex: 1;
        }
        
        .app-title {
            font-size: 14px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 2px;
        }
        
        .app-text {
            font-size: 13px;
            color: #333;
        }

        /* ===== ADDITIONAL SECTION STYLES ===== */
        .divider {
            height: 3px;
            background: linear-gradient(90deg, transparent, #1E64C8, transparent);
            margin: 35px 0;
            border-radius: 2px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 18px;
            padding-bottom: 8px;
            border-bottom: 2px solid #E3F2FD;
        }

        .detail-section {
            margin-bottom: 30px;
        }

        .explanation-text {
            font-size: 15px;
            line-height: 1.7;
            color: #333;
            margin-bottom: 18px;
        }

        .visual-comparison {
            background: #F5F5F5;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .example-box {
            background: white;
            border: 2px solid #1E64C8;
            border-radius: 10px;
            padding: 18px;
            margin: 15px 0;
        }

        .example-title {
            font-size: 15px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 12px;
        }

        .calc-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #EEE;
        }

        .calc-row:last-child {
            border-bottom: none;
            font-weight: 700;
        }

        .calc-label {
            font-size: 14px;
            color: #333;
        }

        .calc-value {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #1E64C8;
            font-weight: 600;
        }

        .calc-value.red {
            color: #C62828;
        }

        .calc-value.green {
            color: #2E7D32;
        }

        .highlight-box {
            background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
            border: 2px solid #FF9800;
            border-radius: 10px;
            padding: 15px;
            margin: 18px 0;
        }

        .highlight-title {
            font-size: 15px;
            font-weight: 700;
            color: #E65100;
            margin-bottom: 8px;
        }

        .highlight-text {
            font-size: 14px;
            color: #333;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Depthwise Separable Convolution</div>
        
        <div class="key-insight">
            <div class="insight-label">KEY INSIGHT</div>
            <div class="insight-text">Spatial and channel-wise processing can be separated</div>
        </div>
        
        <div class="comparison-section">
            <div class="conv-card standard">
                <div class="card-header">Standard Convolution</div>
                <div class="conv-visual">
                    <div class="process-box">Single Operation<br>All Channels Together</div>
                </div>
                <div class="formula-box">
                    Params: D¬≤ √ó M √ó N<br>
                    (expensive)
                </div>
            </div>
            
            <div class="conv-card separable">
                <div class="card-header">Depthwise Separable</div>
                <div class="conv-visual">
                    <div class="process-box depthwise">Depthwise Conv<br>Each Channel Separate</div>
                    <div class="arrow-down">‚Üì</div>
                    <div class="process-box pointwise">Pointwise (1√ó1)<br>Combine Channels</div>
                </div>
                <div class="formula-box">
                    Params: D¬≤ √ó M + M √ó N<br>
                    (efficient)
                </div>
            </div>
        </div>
        
        <div class="savings-section">
            <div class="savings-title">Efficiency Gains</div>
            <div class="savings-grid">
                <div class="savings-item">
                    <div class="savings-label">Computational Savings</div>
                    <div class="savings-value">8-9√ó fewer ops</div>
                </div>
                <div class="savings-item">
                    <div class="savings-label">Parameter Reduction</div>
                    <div class="savings-value">Massive reduction</div>
                </div>
            </div>
        </div>
        
        <div class="applications-section">
            <div class="app-card">
                <div class="app-icon">üì±</div>
                <div class="app-content">
                    <div class="app-title">Used In</div>
                    <div class="app-text">MobileNet, EfficientNet, Xception</div>
                </div>
            </div>
            
            <div class="app-card">
                <div class="app-icon">‚öñÔ∏è</div>
                <div class="app-content">
                    <div class="app-title">Trade-off</div>
                    <div class="app-text">Slightly lower accuracy, massive efficiency</div>
                </div>
            </div>
        </div>

        <!-- ===== ADDITIONAL EXPLANATION ===== -->
        <div class="divider"></div>

        <div class="detail-section">
            <div class="section-title">üìö How It Works: Step by Step</div>
            
            <p class="explanation-text">
                Standard convolution processes <strong>spatial patterns</strong> and <strong>channel relationships</strong> simultaneously. Depthwise Separable Convolution breaks this into two simpler operations, dramatically reducing computation while maintaining most of the representational power.
            </p>

            <svg width="100%" height="280" viewBox="0 0 900 280">
                <!-- Standard Conv -->
                <g transform="translate(20, 20)">
                    <text x="180" y="0" text-anchor="middle" fill="#C62828" font-size="16" font-weight="bold">Standard 3√ó3 Conv</text>
                    
                    <!-- Input -->
                    <rect x="0" y="30" width="80" height="100" fill="#FFCDD2" stroke="#E57373" stroke-width="2" rx="5"/>
                    <text x="40" y="75" text-anchor="middle" fill="#C62828" font-size="12" font-weight="bold">Input</text>
                    <text x="40" y="95" text-anchor="middle" fill="#C62828" font-size="11">M channels</text>
                    
                    <!-- Arrow -->
                    <path d="M90 80 L140 80" stroke="#C62828" stroke-width="3" marker-end="url(#arrowRed)"/>
                    
                    <!-- Filter -->
                    <rect x="150" y="40" width="100" height="80" fill="#EF5350" stroke="#C62828" stroke-width="2" rx="5"/>
                    <text x="200" y="70" text-anchor="middle" fill="white" font-size="11" font-weight="bold">3√ó3 Filter</text>
                    <text x="200" y="90" text-anchor="middle" fill="white" font-size="10">M √ó N filters</text>
                    <text x="200" y="108" text-anchor="middle" fill="white" font-size="9">(all at once)</text>
                    
                    <!-- Arrow -->
                    <path d="M260 80 L310 80" stroke="#C62828" stroke-width="3" marker-end="url(#arrowRed)"/>
                    
                    <!-- Output -->
                    <rect x="320" y="30" width="80" height="100" fill="#FFCDD2" stroke="#E57373" stroke-width="2" rx="5"/>
                    <text x="360" y="75" text-anchor="middle" fill="#C62828" font-size="12" font-weight="bold">Output</text>
                    <text x="360" y="95" text-anchor="middle" fill="#C62828" font-size="11">N channels</text>
                    
                    <defs>
                        <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L9,3 z" fill="#C62828"/>
                        </marker>
                    </defs>
                </g>
                
                <!-- Depthwise Separable -->
                <g transform="translate(470, 20)">
                    <text x="200" y="0" text-anchor="middle" fill="#2E7D32" font-size="16" font-weight="bold">Depthwise Separable Conv</text>
                    
                    <!-- Input -->
                    <rect x="0" y="30" width="60" height="100" fill="#C8E6C9" stroke="#4CAF50" stroke-width="2" rx="5"/>
                    <text x="30" y="75" text-anchor="middle" fill="#2E7D32" font-size="11" font-weight="bold">Input</text>
                    <text x="30" y="92" text-anchor="middle" fill="#2E7D32" font-size="10">M ch</text>
                    
                    <!-- Arrow -->
                    <path d="M70 80 L100 80" stroke="#F57C00" stroke-width="2" marker-end="url(#arrowOrange)"/>
                    
                    <!-- Depthwise -->
                    <rect x="110" y="40" width="90" height="80" fill="#FF9800" stroke="#F57C00" stroke-width="2" rx="5"/>
                    <text x="155" y="65" text-anchor="middle" fill="white" font-size="10" font-weight="bold">Depthwise</text>
                    <text x="155" y="80" text-anchor="middle" fill="white" font-size="9">3√ó3 per channel</text>
                    <text x="155" y="95" text-anchor="middle" fill="white" font-size="9">(M filters)</text>
                    
                    <!-- Arrow -->
                    <path d="M210 80 L240 80" stroke="#43A047" stroke-width="2" marker-end="url(#arrowGreen)"/>
                    
                    <!-- Pointwise -->
                    <rect x="250" y="40" width="90" height="80" fill="#66BB6A" stroke="#43A047" stroke-width="2" rx="5"/>
                    <text x="295" y="65" text-anchor="middle" fill="white" font-size="10" font-weight="bold">Pointwise</text>
                    <text x="295" y="80" text-anchor="middle" fill="white" font-size="9">1√ó1 Conv</text>
                    <text x="295" y="95" text-anchor="middle" fill="white" font-size="9">(M‚ÜíN)</text>
                    
                    <!-- Arrow -->
                    <path d="M350 80 L380 80" stroke="#2E7D32" stroke-width="2" marker-end="url(#arrowGreen)"/>
                    
                    <!-- Output -->
                    <rect x="390" y="30" width="60" height="100" fill="#C8E6C9" stroke="#4CAF50" stroke-width="2" rx="5"/>
                    <text x="420" y="75" text-anchor="middle" fill="#2E7D32" font-size="11" font-weight="bold">Output</text>
                    <text x="420" y="92" text-anchor="middle" fill="#2E7D32" font-size="10">N ch</text>
                    
                    <defs>
                        <marker id="arrowOrange" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L8,3 z" fill="#F57C00"/>
                        </marker>
                        <marker id="arrowGreen" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L8,3 z" fill="#43A047"/>
                        </marker>
                    </defs>
                </g>
                
                <!-- Comparison labels -->
                <text x="225" y="200" text-anchor="middle" fill="#C62828" font-size="13" font-weight="bold">Parameters: 3¬≤ √ó M √ó N</text>
                <text x="225" y="220" text-anchor="middle" fill="#C62828" font-size="12">= 9MN</text>
                
                <text x="670" y="200" text-anchor="middle" fill="#2E7D32" font-size="13" font-weight="bold">Parameters: 3¬≤ √ó M + M √ó N</text>
                <text x="670" y="220" text-anchor="middle" fill="#2E7D32" font-size="12">= 9M + MN</text>
                
                <!-- Reduction ratio -->
                <rect x="350" y="240" width="200" height="35" fill="#FFF8E1" stroke="#FF9800" stroke-width="2" rx="8"/>
                <text x="450" y="263" text-anchor="middle" fill="#E65100" font-size="14" font-weight="bold">Reduction: ~1/N + 1/9 ‚âà 8-9√ó</text>
            </svg>
        </div>

        <div class="detail-section">
            <div class="section-title">üî¢ Concrete Example</div>
            
            <div class="example-box">
                <div class="example-title">3√ó3 Conv: 64 channels ‚Üí 128 channels</div>
                <div class="calc-row">
                    <span class="calc-label">Standard Conv parameters:</span>
                    <span class="calc-value red">3 √ó 3 √ó 64 √ó 128 = 73,728</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Depthwise (3√ó3 per channel):</span>
                    <span class="calc-value">3 √ó 3 √ó 64 = 576</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Pointwise (1√ó1 to expand):</span>
                    <span class="calc-value">1 √ó 1 √ó 64 √ó 128 = 8,192</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Depthwise Separable Total:</span>
                    <span class="calc-value green">576 + 8,192 = 8,768</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Reduction ratio:</span>
                    <span class="calc-value green">73,728 / 8,768 = 8.4√ó smaller!</span>
                </div>
            </div>
        </div>

        <div class="highlight-box">
            <div class="highlight-title">üí° Why Does This Work?</div>
            <div class="highlight-text">
                The key insight is that <strong>spatial correlations</strong> (edges, textures) and <strong>cross-channel correlations</strong> (combining color/feature channels) are largely independent. By processing them separately, we lose minimal representational power while gaining massive computational efficiency. This makes deep learning practical on mobile devices and edge computing.
            </div>
        </div>

    </div>
</body>
</html>